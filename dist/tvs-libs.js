!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tvsLibs=e():t.tvsLibs=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=10)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sign=function(t){return t>0?1:t<0?-1:0},e.lerp=function(t,e,r){return e+t*(r-e)},e.clamp=function(t,e,r){return Math.max(t,Math.min(r,e))},r.d(e,"DEG_TO_RAD_FACTOR",function(){return n}),e.degToRad=function(t){return t*n};var n=Math.PI/180},function(t,e,r){"use strict";function n(t,e,r){void 0===r&&(r=[]);for(var n=0;n<e.length;n++)r[n]=e[n]*t;return r}function o(t,e,r){void 0===r&&(r=[]);for(var n=0;n<e.length;n++)r[n]=e[n]/t;return r}function i(t){for(var e=0,r=0;r<t.length;r++){var n=t[r];e+=n*n}return Math.sqrt(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.vec=function(t){if("number"==typeof t)return new Float32Array(t);return new Float32Array(t)},e.add=function(t,e,r){void 0===r&&(r=[]);for(var n=0;n<t.length;n++)r[n]=t[n]+e[n];return r},e.sub=function(t,e,r){void 0===r&&(r=[]);for(var n=0;n<t.length;n++)r[n]=t[n]-e[n];return r},e.mul=n,e.div=o,e.length=i,e.normalize=function(t,e){void 0===e&&(e=[]);return o(i(t),t,e)},e.limit=function(t,e){var r=i(e);return t<r?n(t/r,e):e},e.dot=function(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]+e[n];return r},e.cross=function(t,e,r){void 0===r&&(r=[]);return r[0]=t[1]*e[2]-t[2]*e[1],r[1]=t[2]*e[0]-t[0]*e[2],r[2]=t[0]*e[1]-t[1]*e[0],r},e.cross2D=function(t,e){return t[0]*e[1]-t[1]*e[0]},r.d(e,"isEqual",function(){return u});var u=r(3).equalArray},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pickRandom=function(t){return t[Object(n.randInt)(t.length)]},e.doTimes=function(t,e){for(var r=0;r<e;r++)t(r)},e.times=function(t,e,r){void 0===r&&(r=[]);for(var n=0;n<e;n++)r[n]=t(n);return r},e.zip=function(t,e,r,n){void 0===n&&(n=[]);for(var o=Math.min(e.length,r.length),i=0;i<o;i++)n[i]=t(e[i],r[i]);return n},e.flatten=o,e.mapcat=function(t,e,r){void 0===r&&(r=[]);return o(e.map(t),r)},e.shuffle=function(t){for(var e=[],r=0;r<t.length;r++){var o=Object(n.randIntInRange)(r,t.length),i=void 0!==e[r]?e[r]:t[r];e[r]=void 0!==e[o]?e[o]:t[o],e[o]=i}return e};var n=r(5);function o(t,e){void 0===e&&(e=[]);for(var r=0,n=t;r<n.length;r++)for(var o=n[r],i=e.length,u=0;u<o.length;u++)e[u+i]=o[u];return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"and",function(){return n}),r.d(e,"not",function(){return o}),r.d(e,"defined",function(){return i}),r.d(e,"notEmpty",function(){return u}),r.d(e,"unequal",function(){return a}),r.d(e,"equal",function(){return f}),e.equalArray=c,e.equalObject=function(t,e){if(t===e)return!0;if(!e)return!1;var r=Object.keys(t),n=Object.keys(e);if(!c(r,n))return!1;for(var o=0,i=r;o<i.length;o++){var u=i[o];if(t[u]!==e[u])return!1}return!0};var n=function(t,e){return function(r,n){return t(r,n)&&e(r,n)}},o=function(t){return function(e,r){return!t(e,r)}},i=function(t){return null!=t},u=function(t){return t&&t.length},a=function(t,e){return t!==e},f=function(t,e){return t===e};function c(t,e){if(t===e)return!0;if(!e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noise1d=function(t){var e,r,i;return e=255&(r=~~t),a=t-=r,i=a*a*a*(a*(6*a-15)+10),Object(n.lerp)(i,u(o[e],t),u(o[e+1],t-1));var a},e.noise2d=function(t,e){var r,n,o=0,i=0,u=0,c=(t+e)*a,s=Math.floor(t+c),l=Math.floor(e+c),d=(s+l)*f,h=t-(s-d),m=e-(l-d);h>m?(r=1,n=0):(r=0,n=1);var O=h-r+f,M=m-n+f,y=h-1+2*f,b=m-1+2*f,_=255&s,A=255&l,P=.5-h*h-m*m;if(P>=0){var E=3*v[_+p[A]];o=(P*=P)*P*(g[E]*h+g[E+1]*m)}var I=.5-O*O-M*M;if(I>=0){var T=3*v[_+r+p[A+n]];i=(I*=I)*I*(g[T]*O+g[T+1]*M)}var j=.5-y*y-b*b;if(j>=0){var D=3*v[_+1+p[A+1]];u=(j*=j)*j*(g[D]*y+g[D+1]*b)}return 70*(o+i+u)},e.noise3d=function(t,e,r){var n,o,i,u,a,f,l,d,h,m,O=(t+e+r)*c,M=Math.floor(t+O),y=Math.floor(e+O),b=Math.floor(r+O),_=(M+y+b)*s,A=t-(M-_),P=e-(y-_),E=r-(b-_);A>=P?P>=E?(a=1,f=0,l=0,d=1,h=1,m=0):A>=E?(a=1,f=0,l=0,d=1,h=0,m=1):(a=0,f=0,l=1,d=1,h=0,m=1):P<E?(a=0,f=0,l=1,d=0,h=1,m=1):A<E?(a=0,f=1,l=0,d=0,h=1,m=1):(a=0,f=1,l=0,d=1,h=1,m=0);var I=A-a+s,T=P-f+s,j=E-l+s,D=A-d+2*s,L=P-h+2*s,F=E-m+2*s,C=A-1+3*s,N=P-1+3*s,R=E-1+3*s,w=255&M,U=255&y,S=255&b,x=.6-A*A-P*P-E*E;if(x<0)n=0;else{var G=3*v[w+p[U+p[S]]];n=(x*=x)*x*(g[G]*A+g[G+1]*P+g[G+2]*E)}var B=.6-I*I-T*T-j*j;if(B<0)o=0;else{var k=3*v[w+a+p[U+f+p[S+l]]];o=(B*=B)*B*(g[k]*I+g[k+1]*T+g[k+2]*j)}var K=.6-D*D-L*L-F*F;if(K<0)i=0;else{var H=3*v[w+d+p[U+h+p[S+m]]];i=(K*=K)*K*(g[H]*D+g[H+1]*L+g[H+2]*F)}var q=.6-C*C-N*N-R*R;if(q<0)u=0;else{var z=3*v[w+1+p[U+1+p[S+1]]];u=(q*=q)*q*(g[z]*C+g[z+1]*N+g[z+2]*R)}return 32*(n+o+i+u)},e.noise4d=O,e.tileNoise=function(t,e,r,n){for(var o=[],i=0;i<e;i++)for(var u=0;u<t;u++){var a=u/t,f=i/e,c=Math.cos(2*a*Math.PI)*r/(2*Math.PI),s=Math.cos(2*f*Math.PI)*n/(2*Math.PI),l=Math.sin(2*a*Math.PI)*r/(2*Math.PI),d=Math.sin(2*f*Math.PI)*n/(2*Math.PI);o.push(O(c,s,l,d))}return o};for(var n=r(0),o=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],i=0;i<=256;i++)o[256+i]=o[i];function u(t,e){return 0==(1&t)?e:-e}var a=.5*(Math.sqrt(3)-1),f=(3-Math.sqrt(3))/6,c=1/3,s=1/6,l=(Math.sqrt(5)-1)/4,d=(5-Math.sqrt(5))/20,h=new Uint8Array(256),p=new Uint8Array(512),v=new Uint8Array(512);for(i=0;i<256;i++)h[i]=256*Math.random();for(i=0;i<512;i++)p[i]=h[255&i],v[i]=p[i]%12;var g=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),m=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function O(t,e,r,n){var o,i,u,a,f,c,s,h,v,g,O,M,y,b,_,A,P,E=(t+e+r+n)*l,I=Math.floor(t+E),T=Math.floor(e+E),j=Math.floor(r+E),D=Math.floor(n+E),L=(I+T+j+D)*d,F=t-(I-L),C=e-(T-L),N=r-(j-L),R=n-(D-L),w=0,U=0,S=0,x=0;F>C?w++:U++,F>N?w++:S++,F>R?w++:x++,C>N?U++:S++,C>R?U++:x++,N>R?S++:x++;var G=F-(c=w>=3?1:0)+d,B=C-(s=U>=3?1:0)+d,k=N-(h=S>=3?1:0)+d,K=R-(v=x>=3?1:0)+d,H=F-(g=w>=2?1:0)+2*d,q=C-(O=U>=2?1:0)+2*d,z=N-(M=S>=2?1:0)+2*d,Q=R-(y=x>=2?1:0)+2*d,V=F-(b=w>=1?1:0)+3*d,W=C-(_=U>=1?1:0)+3*d,Y=N-(A=S>=1?1:0)+3*d,X=R-(P=x>=1?1:0)+3*d,J=F-1+4*d,Z=C-1+4*d,$=N-1+4*d,tt=R-1+4*d,et=255&I,rt=255&T,nt=255&j,ot=255&D,it=.6-F*F-C*C-N*N-R*R;if(it<0)o=0;else{var ut=p[et+p[rt+p[nt+p[ot]]]]%32*4;o=(it*=it)*it*(m[ut]*F+m[ut+1]*C+m[ut+2]*N+m[ut+3]*R)}var at=.6-G*G-B*B-k*k-K*K;if(at<0)i=0;else{var ft=p[et+c+p[rt+s+p[nt+h+p[ot+v]]]]%32*4;i=(at*=at)*at*(m[ft]*G+m[ft+1]*B+m[ft+2]*k+m[ft+3]*K)}var ct=.6-H*H-q*q-z*z-Q*Q;if(ct<0)u=0;else{var st=p[et+g+p[rt+O+p[nt+M+p[ot+y]]]]%32*4;u=(ct*=ct)*ct*(m[st]*H+m[st+1]*q+m[st+2]*z+m[st+3]*Q)}var lt=.6-V*V-W*W-Y*Y-X*X;if(lt<0)a=0;else{var dt=p[et+b+p[rt+_+p[nt+A+p[ot+P]]]]%32*4;a=(lt*=lt)*lt*(m[dt]*V+m[dt+1]*W+m[dt+2]*Y+m[dt+3]*X)}var ht=.6-J*J-Z*Z-$*$-tt*tt;if(ht<0)f=0;else{var pt=p[et+1+p[rt+1+p[nt+1+p[ot+1]]]]%32*4;f=(ht*=ht)*ht*(m[pt]*J+m[pt+1]*Z+m[pt+2]*$+m[pt+3]*tt)}return 27*(o+i+u+a+f)}},function(t,e,r){"use strict";function n(t){return Math.floor(Math.random()*t)}Object.defineProperty(e,"__esModule",{value:!0}),e.randInt=n,e.randIntInRange=function(t,e){return n(e-t)+t},e.normalRand=function(){return(Math.random()+Math.random()+Math.random())/3}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.curry=function(t){return function(e,r){return void 0!==r?t(e,r):function(r){return t(e,r)}}},e.partial=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.bind.apply(t,[null].concat(e))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"BLACK",function(){return o}),r.d(e,"WHITE",function(){return i}),e.mixColors=function(t,e){var r=t[0],o=t[1],i=t[2],u=t[3],a=e[0],f=e[1],c=e[2],s=e[3]/255,l=Math.floor(Object(n.lerp)(s,r,a)),d=Math.floor(Object(n.lerp)(s,o,f)),h=Math.floor(Object(n.lerp)(s,i,c));return[l,d,h,u]},e.grey=function(t,e){null==e&&(e=255);return[t,t,t,e]},e.colorRgbaToCSS=function(t){var e=t[0],r=t[1],n=t[2],o=t[3];return"rgba("+e+", "+r+", "+n+", "+o/255+")"},e.intToFloat=function(t){return t.map(function(t){return t/255})},e.floatToInt=function(t){return t.map(function(t){return Math.floor(255*t)})},e.hexToRgb=u,e.hexStringToRgb=function(t){var e=t.split("#");return u(parseInt(e[e.length-1],16))};var n=r(0),o=[0,0,0,255],i=[255,255,255,255];function u(t){return[(t=Math.floor(t))>>16&255,t>>8&255,255&t]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"Node",function(){return n}),r.d(e,"nil",function(){return o}),e.walkInOrder=i,e.next=function(t,e){if(e.right!==t.nil)return s(t,e.right);var r=e.parent;for(;r!==t.nil&&e===r.right;)e=r,r=r.parent;return r},e.prev=function(t,e){if(e.left!==t.nil)return l(t,e.right);var r=e.parent;for(;r!==t.nil&&e===r.left;)e=r,r=r.parent;return r},e.insert=u,e.search=a,e.transplant=f,e.remove=c,e.min=s,e.max=l,e.rotateLeft=function(t,e){var r=e.right;e.right=r.left,r.left!==t.nil&&(r.left.parent=e);r.parent=e.parent,e.parent===t.nil?t.root=r:e===e.parent.left?e.parent.left=r:e.parent.right=r;r.left=e,e.parent=r},e.rotateRight=function(t,e){var r=e.left;e.left=r.right,r.right!==t.nil&&(r.right.parent=e);r.parent=e.parent,e.parent===t.nil?t.root=r:e===e.parent.right?e.parent.right=r:e.parent.left=r;r.right=e,e.parent=r},e.walkToRoot=function(t,e,r){if(!e||e===t.nil)return;for(;e!==t.nil;)r(e),e=e.parent},r.d(e,"BinaryTree",function(){return d});var n=function(){return function(t,e,r){this.parent=t,this.left=t,this.right=t,this.key=e,this.value=r}}(),o=function(){var t={parent:null,left:null,right:null,key:null};return t.parent=t,t.left=t,t.right=t,t}();function i(t,e,r){e!==t.nil&&(i(t,e.left,r),r(e),i(t,e.right,r))}function u(t,e){for(var r=t.nil,n=t.root;n!==t.nil;)r=n,n=t.compare(e.key,n.key)<0?n.left:n.right;e.parent=r,r===t.nil?t.root=e:t.compare(e.key,r.key)<0?r.left=e:r.right=e}function a(t,e,r){for(;e!==t.nil&&e.key!==r;)e=t.compare(r,e.key)<0?e.left:e.right;return e}function f(t,e,r){e.parent===t.nil?t.root=r:e===e.parent.left?e.parent.left=r:e.parent.right=r,r.parent=e.parent}function c(t,e){if(e.left===t.nil)f(t,e,e.right);else if(e.right===t.nil)f(t,e,e.left);else{var r=s(t,e.right);r.parent!==e&&(f(t,r,r.right),r.right=e.right,r.right.parent=r),f(t,e,r),r.left=e.left,r.left.parent=r}}function s(t,e){for(;e!==t.nil&&e.left!==t.nil;)e=e.left;return e}function l(t,e){for(;e.right!==t.nil;)e=e.right;return e}var d=function(){function t(t,e){void 0===e&&(e=o),this.count=0,this.compare=t,this.root=e,this.nil=e}return t.prototype.createNode=function(t,e){return new n(this.nil,t,e)},t.prototype.insert=function(t,e){var r=this.createNode(t,e);return u(this,r),this.count++,r},t.prototype.getNode=function(t){return a(this,this.root,t)},t.prototype.get=function(t){var e=this.getNode(t);return e===this.nil?e:e.value},t.prototype.keys=function(){var t=[];return i(this,this.root,function(e){return t.push(e.key)}),t},t.prototype.min=function(){return s(this,this.root).key},t.prototype.max=function(){return l(this,this.root).key},t.prototype.remove=function(t){var e=a(this,this.root,t);e!==this.nil&&(c(this,e),this.count--)},t.prototype.size=function(){return this.count},t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=a,r.d(e,"lerpVecs",function(){return f}),e.split=function(t,e){var r=e[0],n=e[1],o=f(t,r,n);return[[r,o],[o,n]]},e.translate=function(t,e){return e.map(function(e){return Object(u.add)(t,e)})},e.rotateLeftInPlace=c,e.rotateRightInPlace=s,e.rotateLeft=function(t){return c(t.concat())},e.rotateRight=function(t){return s(t.concat())},e.normal=function(t){return Object(u.normalize)(Object(u.cross)(Object(u.sub)(t[0],t[1]),Object(u.sub)(t[2],t[1])))},e.side=function(t,e){return Object(u.cross2D)(Object(u.sub)(e,t[0]),Object(u.sub)(t[1],t[0]))};var n=r(2),o=r(6),i=r(0),u=r(1);function a(t,e,r,i){return Object(n.zip)(Object(o.partial)(t,e),r,i)}var f=Object(o.partial)(a,i.lerp);function c(t){return t.unshift(t.pop()),t}function s(t){return t.push(t.shift()),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"math",function(){return E}),r.d(e,"events",function(){return I}),r.d(e,"utils",function(){return T}),r.d(e,"fp",function(){return j}),r.d(e,"graphics",function(){return D}),r.d(e,"geometry",function(){return L}),r.d(e,"algorithms",function(){return F}),r.d(e,"datastructures",function(){return C});var n=r(0),o=r(11),i=r(4),u=r(1),a=r(12),f=r(5),c=r(13),s=r(14),l=r(15),d=r(16),h=r(17),p=r(2),v=r(3),g=r(18),m=r(6),O=r(7),M=r(19),y=r(20),b=r(21),_=r(8),A=r(22),P=r(23),E={core:n,noise:i,coords:o,vectors:u,geometry:a,random:f},I={dom:c,mouse:l,keyboard:s,animation:d},T={uuid:h,seq:p,predicates:v,object:g},j={core:m},D={colors:O,pixels:y,textures:M},L={primitives:r(9),quad:r(24)},F={base:b},C={bintree:_,rbtree:A,heap:P};e.default={math:E,events:I,utils:T,graphics:D,fp:j,geometry:L,datastructures:C,algorithms:F}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cartesianToPolar2D=function(t){return[Object(n.length)(t),Math.atan2(t[1],t[0])]},e.polarToCartesian2D=function(t){var e=t[0],r=t[1];return[e*Math.cos(r),e*Math.sin(r)]};var n=r(1)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.planeFromNormalAndCoplanarPoint=o,e.planeFromThreeCoplanarPoints=function(t,e,r){return o(i(t,e,r),t)},e.normalFromThreeCoplanarPoints=i,e.mirrorMatrixFromPlane=function(t){var e=t,r=e[0],n=e[1],o=e[2],i=e[3];return[1-2*r*r,-2*r*n,-2*r*o,0,-2*r*n,1-2*n*n,-2*n*o,0,-2*r*o,-2*n*o,1-2*o*o,0,-2*r*i,-2*n*i,-2*o*i,1]},e.getYawQuat=function(t){return t*=.5,[0,Math.sin(t),0,Math.cos(t)]},e.getPitchQuat=function(t){return t*=.5,[Math.sin(t),0,0,Math.cos(t)]},e.getRollQuat=function(t){return t*=.5,[0,0,Math.sin(t),Math.cos(t)]};var n=r(1);function o(t,e){var r=Object(n.dot)(t,e);return[t[0],t[1],t[2],r]}function i(t,e,r){return Object(n.normalize)(Object(n.cross)(Object(n.sub)(r,e),Object(n.sub)(t,e)))}},function(t,e,r){"use strict";function n(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.windowSize=n,e.windowSizeObserver=function(){var t={size:{width:0,height:0}},e=n(function(e){return t.size=e});return{state:t,destroy:e}}},function(t,e,r){"use strict";var n;function o(t,e){var r=e||t,n=t.element,o=void 0===n?window:n,i={};function u(t){i[t.keyCode]=Date.now(),r(i)}function a(t){delete i[t.keyCode],r(i)}return o.addEventListener("keyup",a,!1),o.addEventListener("keydown",u,!1),r(i),function(){o.removeEventListener("keyup",a),o.removeEventListener("keydown",u)}}Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"Keys",function(){return n}),e.keyboard=o,e.keyboardObserver=function(t){var e={Keys:n,state:{pressed:{}},destroy:function(){}};return e.destroy=o(function(t){e.state.pressed=t},t),e},function(t){t[t.CANCEL=3]="CANCEL",t[t.HELP=6]="HELP",t[t.BACK_SPACE=8]="BACK_SPACE",t[t.TAB=9]="TAB",t[t.CLEAR=12]="CLEAR",t[t.RETURN=13]="RETURN",t[t.ENTER=14]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CONTROL=17]="CONTROL",t[t.ALT=18]="ALT",t[t.PAUSE=19]="PAUSE",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.ESCAPE=27]="ESCAPE",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.PRINTSCREEN=44]="PRINTSCREEN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_1=49]="DIGIT_1",t[t.DIGIT_2=50]="DIGIT_2",t[t.DIGIT_3=51]="DIGIT_3",t[t.DIGIT_4=52]="DIGIT_4",t[t.DIGIT_5=53]="DIGIT_5",t[t.DIGIT_6=54]="DIGIT_6",t[t.DIGIT_7=55]="DIGIT_7",t[t.DIGIT_8=56]="DIGIT_8",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.EQUALS=61]="EQUALS",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.CONTEXT_MENU=93]="CONTEXT_MENU",t[t.NUMPAD0=96]="NUMPAD0",t[t.NUMPAD1=97]="NUMPAD1",t[t.NUMPAD2=98]="NUMPAD2",t[t.NUMPAD3=99]="NUMPAD3",t[t.NUMPAD4=100]="NUMPAD4",t[t.NUMPAD5=101]="NUMPAD5",t[t.NUMPAD6=102]="NUMPAD6",t[t.NUMPAD7=103]="NUMPAD7",t[t.NUMPAD8=104]="NUMPAD8",t[t.NUMPAD9=105]="NUMPAD9",t[t.MULTIPLY=106]="MULTIPLY",t[t.ADD=107]="ADD",t[t.SEPARATOR=108]="SEPARATOR",t[t.SUBTRACT=109]="SUBTRACT",t[t.DECIMAL=110]="DECIMAL",t[t.DIVIDE=111]="DIVIDE",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.F13=124]="F13",t[t.F14=125]="F14",t[t.F15=126]="F15",t[t.F16=127]="F16",t[t.F17=128]="F17",t[t.F18=129]="F18",t[t.F19=130]="F19",t[t.F20=131]="F20",t[t.F21=132]="F21",t[t.F22=133]="F22",t[t.F23=134]="F23",t[t.F24=135]="F24",t[t.NUM_LOCK=144]="NUM_LOCK",t[t.SCROLL_LOCK=145]="SCROLL_LOCK",t[t.COMMA=188]="COMMA",t[t.PERIOD=190]="PERIOD",t[t.SLASH=191]="SLASH",t[t.BACK_QUOTE=192]="BACK_QUOTE",t[t.OPEN_BRACKET=219]="OPEN_BRACKET",t[t.BACK_SLASH=220]="BACK_SLASH",t[t.CLOSE_BRACKET=221]="CLOSE_BRACKET",t[t.QUOTE=222]="QUOTE",t[t.META=224]="META"}(n||(n={}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"Buttons",function(){return n}),e.mouse=o,e.mouseObserver=function(t){void 0===t&&(t={});var e={Buttons:n,state:{},destroy:function(){}};return e.destroy=o(t,function(t){e.state=t}),e};var n={LEFT:0,MIDDLE:1,RIGHT:2};function o(t,e){var r=e||t,o=t,i=o.element,u=void 0===i?document:i,a=o.enableRightButton,f={pressed:{},drag:{x:0,y:0}},c=0,s=0,l=!1;function d(t){f.pressed[t.button]=t,t.button===n.LEFT&&(c=t.clientX,s=t.clientY,l=!0),r(f)}function h(t){delete f.pressed[t.button],delete f.drag.event,f.drag.x=0,f.drag.y=0,l=!1,r(f)}function p(t){l&&(f.drag.event=t,f.drag.x=c-t.clientX,f.drag.y=s-t.clientY,r(f))}function v(t){t.preventDefault()}return u.addEventListener("mousedown",d),document.addEventListener("mouseup",h),document.addEventListener("mousemove",p),a&&u.addEventListener("contextmenu",v),r(f),function(){u.removeEventListener("mousedown",d),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",h),a&&u.removeEventListener("contextmenu",v)}}},function(t,e,r){"use strict";function n(t){var e,r=!0;return requestAnimationFrame(function n(o){r&&(t(o-(e||o)),e=o,requestAnimationFrame(n))}),function(){r=!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.animateWithTPF=n,e.animate=function(t){var e=!0;return requestAnimationFrame(function r(n){e&&(t(n),requestAnimationFrame(r))}),function(){e=!1}},e.createAnimator=function(t){void 0===t&&(t=n);var e=[];function r(){for(var t in e)e[t].apply(null,arguments)}return{start:function(){this.stop=t(r)},stop:function(){},step:r,addUpdate:function(t){e.push(t)},removeUpdate:function(t){e=e.filter(function(e){return e!==t})}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.v4=function(){var t=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),n[t]=e>>>((3&t)<<3)&255);return n}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,e=t,r=o,i=0,r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]];var e,r,i};var n=new Array(16);for(var o=[],i={},u=0;u<256;u++)o[u]=(u+256).toString(16).substr(1),i[o[u]]=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepmerge=function t(e,r){if("object"==typeof e&&"object"==typeof r&&!Array.isArray(e)&&!Array.isArray(r)&&e!==r){var o=n({},e);for(var i in r){var u=e[i],a=r[i];void 0!==a?o[i]=t(u,a):delete o[i]}return o}return r};var n=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTileNoiseTexture=function(t,e,r){for(var i=r.canvas.width,u=r.canvas.height,a=Object(n.tileNoise)(i,u,t,e),f=Object(n.tileNoise)(i,u,2.1*t,2.1*e),c=Object(n.tileNoise)(i,u,4.2*t,4.2*e),s=Object(n.tileNoise)(i,u,8.3*t,8.3*e),l=r.getImageData(0,0,i,u),d=0;d<a.length-1;d++){var h=4*d;l.data[h]=o(a[d]),l.data[h+1]=o(f[d]),l.data[h+2]=o(c[d]),l.data[h+3]=o(s[d])}r.putImageData(l,0,0)};var n=r(4);function o(t){return Math.floor(127*(t+1))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.repeatedPosition=function(t,e){var r=t[0],n=t[1],o=e.width,i=e.height;r>=o&&(r-=o);n>=i&&(n-=i);r<0&&(r+=o);n<0&&(n+=i);return[r,n]},e.closedPosition=o,e.createPixelContext=function(t){function e(e,r){var n=t(r,e),o=n[0],i=n[1];return 4*(i*e.height+o)}function r(t,r){var n=e(t,r);return[t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]]}function i(t,r,n){var o=e(t,r);t.data[o]=n[0],t.data[o+1]=n[1],t.data[o+2]=n[2],t.data[o+3]=n[3]}return t=t||o,{getPixelIndex:e,getColorAt:r,setColorAt:i,increaseAllBy:function(t,e){for(var r=e[0],n=e[1],o=e[2],i=e[3],u=t.data,a=0;a<u.length;a+=4)u[a]+r<256&&(u[a]+=r),u[a+1]+n<256&&(u[a+1]+=n),u[a+2]+o<256&&(u[a+2]+=o),u[a+3]+i<256&&(u[a+3]+=i)},decreaseAllBy:function(t,e){for(var r=e[0],n=e[1],o=e[2],i=e[3],u=t.data,a=0;a<=u.length;a+=4)r<=u[a]&&(u[a]-=r),n<=u[a+1]&&(u[a+1]-=n),o<=u[a+2]&&(u[a+2]-=o),i<=u[a+3]&&(u[a+3]-=i)},mixinColor:function(t,e){for(var o=0;o<t.width;o++)for(var u=0;o<t.height;u++)i(t,[o,u],Object(n.mixColors)(r(t,[o,u]),e))},replaceWithImageDataAt:function(t,e,n){for(var o=n[0],u=n[1],a=e.width-1,f=e.height-1,c=0;c<f;c++)for(var s=0;s<a;s++)i(t,[o+s,u+c],r(e,[s,c]))},drawImageAt:function(t,e,o){for(var u=o[0],a=o[1],f=e.width-1,c=e.height-1,s=0;s<c;s++)for(var l=0;l<f;l++)i(t,[u+l,a+s],Object(n.mixColors)(r(t,[u+l,a+s]),r(e,[l,s])))}}},e.createImgDataFromImage=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var r=e.getContext("2d");if(r)return r.drawImage(t,0,0,t.width,t.height),r.getImageData(0,0,t.width,t.height)};var n=r(7);function o(t,e){var r=t[0],n=t[1],o=e.width,i=e.height;return r<0&&(r=0),n<0&&(n=0),r>=o&&(r=o),n>=i&&(n=i),[r,n]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"numericalCompare",function(){return n}),r.d(e,"stringCompare",function(){return o});var n=function(t,e){return t-e},o=function(t,e){return t.localeCompare(e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"RBNode",function(){return a}),r.d(e,"rbNil",function(){return f}),e.insertFixup=c,e.remove=s,r.d(e,"RBTree",function(){return l});var n,o=r(8),i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a=function(t){function e(e,r,n){var o=t.call(this,e,r,n)||this;return o.red=!0,o}return i(e,t),e}(o.Node),f=u({},o.nil,{red:!1});function c(t,e){for(;e.parent.red;){var r;if(e.parent===e.parent.parent.left)(r=e.parent.parent.right).red?(e.parent.red=!1,r.red=!1,e.parent.parent.red=!0,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,o.rotateLeft(t,e)),e.parent.red=!1,e.parent.parent.red=!0,o.rotateRight(t,e.parent.parent));else(r=e.parent.parent.left).red?(e.parent.red=!1,r.red=!1,e.parent.parent.red=!0,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,o.rotateRight(t,e)),e.parent.red=!1,e.parent.parent.red=!0,o.rotateLeft(t,e.parent.parent))}t.root.red=!1}function s(t,e){var r,n=e,i=e.red;if(e.left===t.nil?(r=e.right,o.transplant(t,e,e.right)):e.right===t.nil?(r=e.left,o.transplant(t,e,e.left)):(i=(n=o.min(t,e.right)).red,r=n.right,n.parent===e?r.parent=n:(o.transplant(t,n,n.right),n.right=e.right,n.right.parent=n),o.transplant(t,e,n),n.left=e.left,n.left.parent=n,n.red=e.red),!i){for(;r!==t.root&&!r.red;){var u;if(r===r.parent.left)(u=r.parent.right).red&&(u.red=!1,r.parent.red=!0,o.rotateLeft(t,r.parent),u=r.parent.right),u.left.red||u.right.red?(u.right.red||(u.left.red=!1,u.red=!0,o.rotateRight(t,u),u=r.parent.right),u.red=r.parent.red,r.parent.red=!1,u.right.red=!1,o.rotateLeft(t,r.parent),r=t.root):(u.red=!0,r=r.parent);else(u=r.parent.left).red&&(u.red=!1,r.parent.red=!0,o.rotateRight(t,r.parent),u=r.parent.left),u.left.red||u.right.red?(u.left.red||(u.right.red=!1,u.red=!0,o.rotateLeft(t,u),u=r.parent.left),u.red=r.parent.red,r.parent.red=!1,u.left.red=!1,o.rotateRight(t,r.parent),r=t.root):(u.red=!0,r=r.parent)}r.red=!1}}var l=function(t){function e(e,r){return void 0===r&&(r=f),t.call(this,e,r)||this}return i(e,t),e.prototype.createNode=function(t,e){return new a(this.nil,t,e)},e.prototype.insert=function(t,e){var r=this.createNode(t,e);return o.insert(this,r),c(this,r),this.count++,r},e.prototype.remove=function(t){var e=o.search(this,this.root,t);e!==this.nil&&(s(this,e),this.count--)},e}(o.BinaryTree)},function(t,e,r){"use strict";function n(t){return Math.floor(t/2)}function o(t){return 2*t+1}function i(t){return 2*t}function u(t,e,r){var n=r[t];r[t]=r[e],r[e]=n}function a(t,e,r){var n=i(r),f=o(r),c=r;n<e.length&&t(e[c],e[n])<0&&(c=n),f<e.length&&t(e[c],e[f])<0&&(c=f),c!==r&&(u(r,c,e),a(t,e,c))}function f(t,e){for(var r=Math.floor((e.length-1)/2);r>=0;r--)a(t,e,r)}function c(t,e,r){if(e.push(r),e.length>1)for(var o=e.length-1,i=n(o);o>0&&t(e[i],e[o])<0;)u(i,o,e),i=n(o=i)}Object.defineProperty(e,"__esModule",{value:!0}),e.parentIndex=n,e.rightIndex=o,e.leftIndex=i,e.heapifyAt=a,e.heapify=f,e.insert=c,e.createHeap=function(t){var e=[];return{size:function(){return e.length},fromArray:function(r){e=r.concat(),f(t,e)},pull:function(){var r=e.shift();return a(t,e,0),r},getTop:function(){return e[0]},insert:function(r){return c(t,e,r)}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.top=function(t){return[t[0],t[1]]},e.right=function(t){return[t[1],t[2]]},e.bottom=function(t){return[t[2],t[3]]},e.left=function(t){return[t[3],t[0]]},e.combineEdges=i,e.extrudeTop=u,e.extrudeRight=function(t,e){return Object(n.rotateLeft)(u(t,e))},e.extrudeBottom=a,e.extrudeLeft=function(t,e){return Object(n.rotateLeft)(a(t,e))},e.divideHorizontal=function(t,e,r){var o=r[0],i=r[1],u=r[2],a=r[3],f=Object(n.lerpVecs)(t,o,a),c=Object(n.lerpVecs)(e,i,u);return[[o,i,c,f],[f,c,u,a]]},e.divideVertical=function(t,e,r){var o=r[0],i=r[1],u=r[2],a=r[3],f=Object(n.lerpVecs)(t,o,i),c=Object(n.lerpVecs)(e,a,u);return[[o,f,c,a],[f,i,u,c]]},r.d(e,"quadTriangles",function(){return f}),e.triangulate=function(t){return Object(o.flatten)(Object(o.times)(function(t){return f.map(function(e){return e.map(function(e){return 4*t+e})})},t))};var n=r(9),o=r(2);function i(t,e){return t.concat(Object(n.rotateLeft)(e))}function u(t,e){return i(Object(n.translate)(t,e),e)}function a(t,e){return i(e,Object(n.translate)(t,e))}var f=[[0,2,1],[0,3,2]]}])});