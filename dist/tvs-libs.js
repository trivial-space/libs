!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tvsLibs=e():t.tvsLibs=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sign=function(t){return t>0?1:t<0?-1:0},e.lerp=function(t,e,n){return e+t*(n-e)},e.clamp=function(t,e,n){return Math.max(t,Math.min(n,e))},n.d(e,"DEG_TO_RAD_FACTOR",function(){return r}),e.degToRad=function(t){return t*r};var r=Math.PI/180},function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n=[]);for(var r=0;r<e.length;r++)n[r]=e[r]*t;return n}function o(t,e,n){void 0===n&&(n=[]);for(var r=0;r<e.length;r++)n[r]=e[r]/t;return n}function i(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r*r}return Math.sqrt(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.vec=function(t){if("number"==typeof t)return new Float32Array(t);return new Float32Array(t)},e.add=function(t,e,n){void 0===n&&(n=[]);for(var r=0;r<t.length;r++)n[r]=t[r]+e[r];return n},e.sub=function(t,e,n){void 0===n&&(n=[]);for(var r=0;r<t.length;r++)n[r]=t[r]-e[r];return n},e.mul=r,e.div=o,e.length=i,e.normalize=function(t,e){void 0===e&&(e=[]);return o(i(t),t,e)},e.limit=function(t,e){var n=i(e);return t<n?r(t/n,e):e},e.dot=function(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]+e[r];return n},e.cross=function(t,e,n){void 0===n&&(n=[]);return n[0]=t[1]*e[2]-t[2]*e[1],n[1]=t[2]*e[0]-t[0]*e[2],n[2]=t[0]*e[1]-t[1]*e[0],n},e.cross2D=function(t,e){return t[0]*e[1]-t[1]*e[0]},n.d(e,"isEqual",function(){return u});var u=n(2).equalArray},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"and",function(){return r}),n.d(e,"not",function(){return o}),n.d(e,"defined",function(){return i}),n.d(e,"notEmpty",function(){return u}),n.d(e,"unequal",function(){return a}),n.d(e,"equal",function(){return c}),e.equalArray=f,e.equalObject=function(t,e){if(t===e)return!0;if(!e)return!1;var n=Object.keys(t),r=Object.keys(e);if(!f(n,r))return!1;for(var o=0,i=n;o<i.length;o++){var u=i[o];if(t[u]!==e[u])return!1}return!0};var r=function(t,e){return function(n,r){return t(n,r)&&e(n,r)}},o=function(t){return function(e,n){return!t(e,n)}},i=function(t){return null!=t},u=function(t){return t&&t.length},a=function(t,e){return t!==e},c=function(t,e){return t===e};function f(t,e){if(t===e)return!0;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noise1d=function(t){var e,n,i;return e=255&(n=~~t),a=t-=n,i=a*a*a*(a*(6*a-15)+10),Object(r.lerp)(i,u(o[e],t),u(o[e+1],t-1));var a},e.noise2d=function(t,e){var n,r,o=0,i=0,u=0,f=(t+e)*a,s=Math.floor(t+f),d=Math.floor(e+f),l=(s+d)*c,v=t-(s-l),E=e-(d-l);v>E?(n=1,r=0):(n=0,r=1);var m=v-n+c,P=E-r+c,p=v-1+2*c,O=E-1+2*c,T=255&s,I=255&d,_=.5-v*v-E*E;if(_>=0){var g=3*M[T+h[I]];o=(_*=_)*_*(A[g]*v+A[g+1]*E)}var D=.5-m*m-P*P;if(D>=0){var F=3*M[T+n+h[I+r]];i=(D*=D)*D*(A[F]*m+A[F+1]*P)}var b=.5-p*p-O*O;if(b>=0){var C=3*M[T+1+h[I+1]];u=(b*=b)*b*(A[C]*p+A[C+1]*O)}return 70*(o+i+u)},e.noise3d=function(t,e,n){var r,o,i,u,a,c,d,l,v,E,m=(t+e+n)*f,P=Math.floor(t+m),p=Math.floor(e+m),O=Math.floor(n+m),T=(P+p+O)*s,I=t-(P-T),_=e-(p-T),g=n-(O-T);I>=_?_>=g?(a=1,c=0,d=0,l=1,v=1,E=0):I>=g?(a=1,c=0,d=0,l=1,v=0,E=1):(a=0,c=0,d=1,l=1,v=0,E=1):_<g?(a=0,c=0,d=1,l=0,v=1,E=1):I<g?(a=0,c=1,d=0,l=0,v=1,E=1):(a=0,c=1,d=0,l=1,v=1,E=0);var D=I-a+s,F=_-c+s,b=g-d+s,C=I-l+2*s,y=_-v+2*s,L=g-E+2*s,N=I-1+3*s,U=_-1+3*s,w=g-1+3*s,R=255&P,S=255&p,j=255&O,x=.6-I*I-_*_-g*g;if(x<0)r=0;else{var G=3*M[R+h[S+h[j]]];r=(x*=x)*x*(A[G]*I+A[G+1]*_+A[G+2]*g)}var B=.6-D*D-F*F-b*b;if(B<0)o=0;else{var K=3*M[R+a+h[S+c+h[j+d]]];o=(B*=B)*B*(A[K]*D+A[K+1]*F+A[K+2]*b)}var H=.6-C*C-y*y-L*L;if(H<0)i=0;else{var q=3*M[R+l+h[S+v+h[j+E]]];i=(H*=H)*H*(A[q]*C+A[q+1]*y+A[q+2]*L)}var k=.6-N*N-U*U-w*w;if(k<0)u=0;else{var Q=3*M[R+1+h[S+1+h[j+1]]];u=(k*=k)*k*(A[Q]*N+A[Q+1]*U+A[Q+2]*w)}return 32*(r+o+i+u)},e.noise4d=m,e.tileNoise=function(t,e,n,r){for(var o=[],i=0;i<e;i++)for(var u=0;u<t;u++){var a=u/t,c=i/e,f=Math.cos(2*a*Math.PI)*n/(2*Math.PI),s=Math.cos(2*c*Math.PI)*r/(2*Math.PI),d=Math.sin(2*a*Math.PI)*n/(2*Math.PI),l=Math.sin(2*c*Math.PI)*r/(2*Math.PI);o.push(m(f,s,d,l))}return o};for(var r=n(0),o=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],i=0;i<=256;i++)o[256+i]=o[i];function u(t,e){return 0==(1&t)?e:-e}var a=.5*(Math.sqrt(3)-1),c=(3-Math.sqrt(3))/6,f=1/3,s=1/6,d=(Math.sqrt(5)-1)/4,l=(5-Math.sqrt(5))/20,v=new Uint8Array(256),h=new Uint8Array(512),M=new Uint8Array(512);for(i=0;i<256;i++)v[i]=256*Math.random();for(i=0;i<512;i++)h[i]=v[255&i],M[i]=h[i]%12;var A=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),E=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function m(t,e,n,r){var o,i,u,a,c,f,s,v,M,A,m,P,p,O,T,I,_,g=(t+e+n+r)*d,D=Math.floor(t+g),F=Math.floor(e+g),b=Math.floor(n+g),C=Math.floor(r+g),y=(D+F+b+C)*l,L=t-(D-y),N=e-(F-y),U=n-(b-y),w=r-(C-y),R=0,S=0,j=0,x=0;L>N?R++:S++,L>U?R++:j++,L>w?R++:x++,N>U?S++:j++,N>w?S++:x++,U>w?j++:x++;var G=L-(f=R>=3?1:0)+l,B=N-(s=S>=3?1:0)+l,K=U-(v=j>=3?1:0)+l,H=w-(M=x>=3?1:0)+l,q=L-(A=R>=2?1:0)+2*l,k=N-(m=S>=2?1:0)+2*l,Q=U-(P=j>=2?1:0)+2*l,W=w-(p=x>=2?1:0)+2*l,z=L-(O=R>=1?1:0)+3*l,Y=N-(T=S>=1?1:0)+3*l,X=U-(I=j>=1?1:0)+3*l,V=w-(_=x>=1?1:0)+3*l,J=L-1+4*l,Z=N-1+4*l,$=U-1+4*l,tt=w-1+4*l,et=255&D,nt=255&F,rt=255&b,ot=255&C,it=.6-L*L-N*N-U*U-w*w;if(it<0)o=0;else{var ut=h[et+h[nt+h[rt+h[ot]]]]%32*4;o=(it*=it)*it*(E[ut]*L+E[ut+1]*N+E[ut+2]*U+E[ut+3]*w)}var at=.6-G*G-B*B-K*K-H*H;if(at<0)i=0;else{var ct=h[et+f+h[nt+s+h[rt+v+h[ot+M]]]]%32*4;i=(at*=at)*at*(E[ct]*G+E[ct+1]*B+E[ct+2]*K+E[ct+3]*H)}var ft=.6-q*q-k*k-Q*Q-W*W;if(ft<0)u=0;else{var st=h[et+A+h[nt+m+h[rt+P+h[ot+p]]]]%32*4;u=(ft*=ft)*ft*(E[st]*q+E[st+1]*k+E[st+2]*Q+E[st+3]*W)}var dt=.6-z*z-Y*Y-X*X-V*V;if(dt<0)a=0;else{var lt=h[et+O+h[nt+T+h[rt+I+h[ot+_]]]]%32*4;a=(dt*=dt)*dt*(E[lt]*z+E[lt+1]*Y+E[lt+2]*X+E[lt+3]*V)}var vt=.6-J*J-Z*Z-$*$-tt*tt;if(vt<0)c=0;else{var ht=h[et+1+h[nt+1+h[rt+1+h[ot+1]]]]%32*4;c=(vt*=vt)*vt*(E[ht]*J+E[ht+1]*Z+E[ht+2]*$+E[ht+3]*tt)}return 27*(o+i+u+a+c)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BLACK",function(){return o}),n.d(e,"WHITE",function(){return i}),e.mixColors=function(t,e){var n=t[0],o=t[1],i=t[2],u=t[3],a=e[0],c=e[1],f=e[2],s=e[3]/255,d=Math.floor(Object(r.lerp)(s,n,a)),l=Math.floor(Object(r.lerp)(s,o,c)),v=Math.floor(Object(r.lerp)(s,i,f));return[d,l,v,u]},e.grey=function(t,e){null==e&&(e=255);return[t,t,t,e]},e.colorRgbaToCSS=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return"rgba("+e+", "+n+", "+r+", "+o/255+")"},e.intToFloat=function(t){return t.map(function(t){return t/255})},e.floatToInt=function(t){return t.map(function(t){return Math.floor(255*t)})},e.hexToRgb=u,e.hexStringToRgb=function(t){var e=t.split("#");return u(parseInt(e[e.length-1],16))};var r=n(0),o=[0,0,0,255],i=[255,255,255,255];function u(t){return[(t=Math.floor(t))>>16&255,t>>8&255,255&t]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"math",function(){return m}),n.d(e,"events",function(){return P}),n.d(e,"utils",function(){return p}),n.d(e,"fp",function(){return O}),n.d(e,"graphics",function(){return T});var r=n(0),o=n(6),i=n(3),u=n(1),a=n(7),c=n(8),f=n(9),s=n(10),d=n(11),l=n(12),v=n(13),h=n(2),M=n(15),A=n(4),E=n(16),m={core:r,noise:i,coords:o,vectors:u,geometry:a},P={dom:c,mouse:s,keyboard:f,animation:d},p={uuid:l,seq:v,predicates:h},O={core:M},T={colors:A,pixels:n(17),textures:E};e.default={math:m,events:P,utils:p,graphics:T,fp:O}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cartesianToPolar2D=function(t){return[Object(r.length)(t),Math.atan2(t[1],t[0])]},e.polarToCartesian2D=function(t){var e=t[0],n=t[1];return[e*Math.cos(n),e*Math.sin(n)]};var r=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.planeFromNormalAndCoplanarPoint=o,e.planeFromThreeCoplanarPoints=function(t,e,n){return o(i(t,e,n),t)},e.normalFromThreeCoplanarPoints=i,e.mirrorMatrixFromPlane=function(t){var e=t,n=e[0],r=e[1],o=e[2],i=e[3];return[1-2*n*n,-2*n*r,-2*n*o,0,-2*n*r,1-2*r*r,-2*r*o,0,-2*n*o,-2*r*o,1-2*o*o,0,-2*n*i,-2*r*i,-2*o*i,1]},e.getYawQuat=function(t){return t*=.5,[0,Math.sin(t),0,Math.cos(t)]},e.getPitchQuat=function(t){return t*=.5,[Math.sin(t),0,0,Math.cos(t)]},e.getRollQuat=function(t){return t*=.5,[0,0,Math.sin(t),Math.cos(t)]};var r=n(1);function o(t,e){var n=Object(r.dot)(t,e);return[t[0],t[1],t[2],n]}function i(t,e,n){return Object(r.normalize)(Object(r.cross)(Object(r.sub)(n,e),Object(r.sub)(t,e)))}},function(t,e,n){"use strict";function r(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.windowSize=r,e.windowSizeObserver=function(){var t={size:{width:0,height:0}},e=r(function(e){return t.size=e});return{state:t,destroy:e}}},function(t,e,n){"use strict";var r;function o(t,e){var n=e||t,r=t.element,o=void 0===r?window:r,i={};function u(t){i[t.keyCode]=Date.now(),n(i)}function a(t){delete i[t.keyCode],n(i)}return o.addEventListener("keyup",a,!1),o.addEventListener("keydown",u,!1),n(i),function(){o.removeEventListener("keyup",a),o.removeEventListener("keydown",u)}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Keys",function(){return r}),e.keyboard=o,e.keyboardObserver=function(t){var e={Keys:r,state:{pressed:{}},destroy:function(){}};return e.destroy=o(function(t){e.state.pressed=t},t),e},function(t){t[t.CANCEL=3]="CANCEL",t[t.HELP=6]="HELP",t[t.BACK_SPACE=8]="BACK_SPACE",t[t.TAB=9]="TAB",t[t.CLEAR=12]="CLEAR",t[t.RETURN=13]="RETURN",t[t.ENTER=14]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CONTROL=17]="CONTROL",t[t.ALT=18]="ALT",t[t.PAUSE=19]="PAUSE",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.ESCAPE=27]="ESCAPE",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.PRINTSCREEN=44]="PRINTSCREEN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_1=49]="DIGIT_1",t[t.DIGIT_2=50]="DIGIT_2",t[t.DIGIT_3=51]="DIGIT_3",t[t.DIGIT_4=52]="DIGIT_4",t[t.DIGIT_5=53]="DIGIT_5",t[t.DIGIT_6=54]="DIGIT_6",t[t.DIGIT_7=55]="DIGIT_7",t[t.DIGIT_8=56]="DIGIT_8",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.EQUALS=61]="EQUALS",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.CONTEXT_MENU=93]="CONTEXT_MENU",t[t.NUMPAD0=96]="NUMPAD0",t[t.NUMPAD1=97]="NUMPAD1",t[t.NUMPAD2=98]="NUMPAD2",t[t.NUMPAD3=99]="NUMPAD3",t[t.NUMPAD4=100]="NUMPAD4",t[t.NUMPAD5=101]="NUMPAD5",t[t.NUMPAD6=102]="NUMPAD6",t[t.NUMPAD7=103]="NUMPAD7",t[t.NUMPAD8=104]="NUMPAD8",t[t.NUMPAD9=105]="NUMPAD9",t[t.MULTIPLY=106]="MULTIPLY",t[t.ADD=107]="ADD",t[t.SEPARATOR=108]="SEPARATOR",t[t.SUBTRACT=109]="SUBTRACT",t[t.DECIMAL=110]="DECIMAL",t[t.DIVIDE=111]="DIVIDE",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.F13=124]="F13",t[t.F14=125]="F14",t[t.F15=126]="F15",t[t.F16=127]="F16",t[t.F17=128]="F17",t[t.F18=129]="F18",t[t.F19=130]="F19",t[t.F20=131]="F20",t[t.F21=132]="F21",t[t.F22=133]="F22",t[t.F23=134]="F23",t[t.F24=135]="F24",t[t.NUM_LOCK=144]="NUM_LOCK",t[t.SCROLL_LOCK=145]="SCROLL_LOCK",t[t.COMMA=188]="COMMA",t[t.PERIOD=190]="PERIOD",t[t.SLASH=191]="SLASH",t[t.BACK_QUOTE=192]="BACK_QUOTE",t[t.OPEN_BRACKET=219]="OPEN_BRACKET",t[t.BACK_SLASH=220]="BACK_SLASH",t[t.CLOSE_BRACKET=221]="CLOSE_BRACKET",t[t.QUOTE=222]="QUOTE",t[t.META=224]="META"}(r||(r={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Buttons",function(){return r}),e.mouse=o,e.mouseObserver=function(t){void 0===t&&(t={});var e={Buttons:r,state:{},destroy:function(){}};return e.destroy=o(t,function(t){e.state=t}),e};var r={LEFT:0,MIDDLE:1,RIGHT:2};function o(t,e){var n=e||t,o=t,i=o.element,u=void 0===i?document:i,a=o.enableRightButton,c={pressed:{},drag:{x:0,y:0}},f=0,s=0,d=!1;function l(t){c.pressed[t.button]=t,t.button===r.LEFT&&(f=t.clientX,s=t.clientY,d=!0),n(c)}function v(t){delete c.pressed[t.button],delete c.drag.event,c.drag.x=0,c.drag.y=0,d=!1,n(c)}function h(t){d&&(c.drag.event=t,c.drag.x=f-t.clientX,c.drag.y=s-t.clientY,n(c))}function M(t){t.preventDefault()}return u.addEventListener("mousedown",l),document.addEventListener("mouseup",v),document.addEventListener("mousemove",h),a&&u.addEventListener("contextmenu",M),n(c),function(){u.removeEventListener("mousedown",l),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",v),a&&u.removeEventListener("contextmenu",M)}}},function(t,e,n){"use strict";function r(t){var e,n=!0;return requestAnimationFrame(function r(o){n&&(t(o-(e||o)),e=o,requestAnimationFrame(r))}),function(){n=!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.animateWithTPF=r,e.animate=function(t){var e=!0;return requestAnimationFrame(function n(r){e&&(t(r),requestAnimationFrame(n))}),function(){e=!1}},e.createAnimator=function(t){void 0===t&&(t=r);var e=[];function n(){for(var t in e)e[t].apply(null,arguments)}return{start:function(){this.stop=t(n)},stop:function(){},step:n,addUpdate:function(t){e.push(t)},removeUpdate:function(t){e=e.filter(function(e){return e!==t})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.v4=function(){var t=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),r[t]=e>>>((3&t)<<3)&255);return r}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,e=t,n=o,i=0,n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]];var e,n,i};var r=new Array(16);for(var o=[],i={},u=0;u<256;u++)o[u]=(u+256).toString(16).substr(1),i[o[u]]=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pickRandom=function(t){return t[Object(r.a)(t.length)]},e.doTimes=function(t,e){for(var n=0;n<e;n++)t(n)},e.times=function(t,e,n){void 0===n&&(n=[]);for(var r=0;r<e;r++)n[r]=t(r);return n},e.zip=function(t,e,n,r){void 0===r&&(r=[]);for(var o=Math.min(e.length,n.length),i=0;i<o;i++)r[i]=t(e[i],n[i]);return r},e.flatten=o,e.mapcat=function(t,e,n){void 0===n&&(n=[]);return o(e.map(t),n)},e.shuffle=function(t){for(var e=[],n=0;n<t.length;n++){var o=Object(r.b)(n,t.length),i=void 0!==e[n]?e[n]:t[n];e[n]=void 0!==e[o]?e[o]:t[o],e[o]=i}return e};var r=n(14);function o(t,e){void 0===e&&(e=[]);for(var n=0,r=t;n<r.length;n++)for(var o=r[n],i=e.length,u=0;u<o.length;u++)e[u+i]=o[u];return e}},function(t,e,n){"use strict";function r(t){return Math.floor(Math.random()*t)}e.a=r,e.b=function(t,e){return r(e-t)+t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.curry=function(t){return function(e,n){return void 0!==n?t(e,n):function(n){return t(e,n)}}},e.partial=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.bind.apply(t,[null].concat(e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTileNoiseTexture=function(t,e,n){for(var i=n.canvas.width,u=n.canvas.height,a=Object(r.tileNoise)(i,u,t,e),c=Object(r.tileNoise)(i,u,2.1*t,2.1*e),f=Object(r.tileNoise)(i,u,4.2*t,4.2*e),s=Object(r.tileNoise)(i,u,8.3*t,8.3*e),d=n.getImageData(0,0,i,u),l=0;l<a.length-1;l++){var v=4*l;d.data[v]=o(a[l]),d.data[v+1]=o(c[l]),d.data[v+2]=o(f[l]),d.data[v+3]=o(s[l])}n.putImageData(d,0,0)};var r=n(3);function o(t){return Math.floor(127*(t+1))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.repeatedPosition=function(t,e){var n=t[0],r=t[1],o=e.width,i=e.height;n>=o&&(n-=o);r>=i&&(r-=i);n<0&&(n+=o);r<0&&(r+=i);return[n,r]},e.closedPosition=o,e.createPixelContext=function(t){function e(e,n){var r=t(n,e),o=r[0],i=r[1];return 4*(i*e.height+o)}function n(t,n){var r=e(t,n);return[t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]]}function i(t,n,r){var o=e(t,n);t.data[o]=r[0],t.data[o+1]=r[1],t.data[o+2]=r[2],t.data[o+3]=r[3]}return t=t||o,{getPixelIndex:e,getColorAt:n,setColorAt:i,increaseAllBy:function(t,e){for(var n=e[0],r=e[1],o=e[2],i=e[3],u=t.data,a=0;a<u.length;a+=4)u[a]+n<256&&(u[a]+=n),u[a+1]+r<256&&(u[a+1]+=r),u[a+2]+o<256&&(u[a+2]+=o),u[a+3]+i<256&&(u[a+3]+=i)},decreaseAllBy:function(t,e){for(var n=e[0],r=e[1],o=e[2],i=e[3],u=t.data,a=0;a<=u.length;a+=4)n<=u[a]&&(u[a]-=n),r<=u[a+1]&&(u[a+1]-=r),o<=u[a+2]&&(u[a+2]-=o),i<=u[a+3]&&(u[a+3]-=i)},mixinColor:function(t,e){for(var o=0;o<t.width;o++)for(var u=0;o<t.height;u++)i(t,[o,u],Object(r.mixColors)(n(t,[o,u]),e))},replaceWithImageDataAt:function(t,e,r){for(var o=r[0],u=r[1],a=e.width-1,c=e.height-1,f=0;f<c;f++)for(var s=0;s<a;s++)i(t,[o+s,u+f],n(e,[s,f]))},drawImageAt:function(t,e,o){for(var u=o[0],a=o[1],c=e.width-1,f=e.height-1,s=0;s<f;s++)for(var d=0;d<c;d++)i(t,[u+d,a+s],Object(r.mixColors)(n(t,[u+d,a+s]),n(e,[d,s])))}}},e.createImgDataFromImage=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");if(n)return n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)};var r=n(4);function o(t,e){var n=t[0],r=t[1],o=e.width,i=e.height;return n<0&&(n=0),r<0&&(r=0),n>=o&&(n=o),r>=i&&(r=i),[n,r]}}])});