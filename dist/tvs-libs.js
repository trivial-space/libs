!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tvsLibs=e():t.tvsLibs=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=15)}([function(t,e,r){"use strict";r.d(e,"a",function(){return a});const n=1e-6;e.b=n;let a="undefined"!=typeof Float32Array?Float32Array:Array;const i=Math.random;e.c=i;Math.PI},function(t,e,r){"use strict";function n(t){return m[t].bindPoint}function a(t,e){return function(r){t.uniform1i(e,r)}}function i(t,e){return function(r){t.uniform1iv(e,r)}}function o(t,e){return function(r){t.uniform2iv(e,r)}}function u(t,e){return function(r){t.uniform3iv(e,r)}}function c(t,e){return function(r){t.uniform4iv(e,r)}}function f(t,e,r,a){var i=n(e);return function(e){t.uniform1i(a,r),t.activeTexture(t.TEXTURE0+r),t.bindTexture(i,e)}}function s(t,e,r,a,i){for(var o=n(e),u=new Int32Array(i),c=0;c<i;++c)u[c]=r+c;return function(e){t.uniform1iv(a,u);for(var r in e)t.activeTexture(t.TEXTURE0+u[r]),t.bindTexture(o,e[r])}}function l(t,e,r){return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,r.itemSize,v.c.FLOAT,n.normalize||!1,n.stride||0,n.offset||0)}}function d(t,e,r){return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,r.itemSize,v.c.INT,n.stride||0,n.offset||0)}}function h(t,e,r){var n=r.size,a=r.count;return function(r){t.bindBuffer(t.ARRAY_BUFFER,r.buffer);for(var i=n,o=i/a,u=m[v.c.FLOAT].size*i,c=r.normalize||!1,f=r.offset||0,s=u/a,l=0;l<a;++l)t.enableVertexAttribArray(e+l),t.vertexAttribPointer(e+l,o,v.c.FLOAT,c,u,f+s*l)}}function T(t,e,r){if(void 0===e&&(e={}),void 0===r&&(r={}),null!=e.flipY&&e.flipY!==r.flipY&&t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY),e.wrap&&e.wrap!==r.wrap||e.wrapS&&e.wrapS!==r.wrapS||e.wrapT&&e.wrapT!==r.wrapT){var n=void 0,a=void 0;e.wrap?n=a=e.wrap:(a=e.wrapT||"CLAMP_TO_EDGE",n=e.wrapS||"CLAMP_TO_EDGE"),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t[n]),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t[a])}e.magFilter&&e.magFilter!==r.magFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t[e.magFilter]),e.minFilter&&e.minFilter!==r.minFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t[e.minFilter])}e.c=function(t,e){function r(e,r){var a=t.getUniformLocation(e,r.name),i=r.size>1&&"[0]"===r.name.substr(-3),o=r.type,u=m[o];if(!u)throw"unknown type: 0x"+o.toString(16);if(null!=a){var c;if(null===u.Type){var f=n;n+=r.size,c=i?u.arraySetter(t,o,f,a,r.size):u.setter(t,o,f,a)}else c=u.arraySetter&&i?u.arraySetter(t,a):u.setter(t,a);return{setter:c,location:a}}}for(var n=0,a={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<i;++o){var u=t.getActiveUniform(e,o);if(!u)break;var c=u.name;if("[0]"===c.substr(-3)&&(c=c.substr(0,c.length-3)),e){var f=r(e,u);f&&(a[c]=f)}}return a},e.b=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<n;a++){var i=t.getActiveAttrib(e,a);if(!i)break;var o=t.getAttribLocation(e,i.name),u=p[i.type],c=u.setter(t,o,u);r[i.name]={setter:c,location:o}}return r},e.e=function(t){if(t instanceof Int8Array)return v.c.BYTE;if(t instanceof Uint8Array)return v.c.UNSIGNED_BYTE;if(t instanceof Uint8ClampedArray)return v.c.UNSIGNED_BYTE;if(t instanceof Int16Array)return v.c.SHORT;if(t instanceof Uint16Array)return v.c.UNSIGNED_SHORT;if(t instanceof Int32Array)return v.c.INT;if(t instanceof Uint32Array)return v.c.UNSIGNED_INT;if(t instanceof Float32Array)return v.c.FLOAT;throw"unsupported typed array type"},e.g=T,e.h=function(t,e,r,n){if(null!=e.width&&null!=e.height){null==e.frameBuffer&&(e.frameBuffer=t.createFramebuffer()),e.textures||(e.textures=[]),t.bindFramebuffer(t.FRAMEBUFFER,e.frameBuffer),e.textureConfig.type===t.FLOAT&&t.getExtension("OES_texture_float");var a=e.textureConfig.count;if(a>1){for(var i=t.getExtension("WEBGL_draw_buffers"),o=[],u=0;u<a;u++)o.push(i["COLOR_ATTACHMENT"+u+"_WEBGL"]);for(i.drawBuffersWEBGL(o),u=0;u<a;u++)null==e.textures[u]&&(e.textures[u]=t.createTexture()),c=e.textures[u],t.bindTexture(t.TEXTURE_2D,c),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),T(t,r,n),t.framebufferTexture2D(t.FRAMEBUFFER,o[u],t.TEXTURE_2D,c,0)}else{null==e.textures[0]&&(e.textures[0]=t.createTexture());var c=e.textures[0];t.bindTexture(t.TEXTURE_2D,c),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),T(t,r,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,c,0)}null==e.depthBuffer&&(e.depthBuffer=t.createRenderbuffer()),t.bindRenderbuffer(t.RENDERBUFFER,e.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e.depthBuffer);var f=t.checkFramebufferStatus(t.FRAMEBUFFER);f!==t.FRAMEBUFFER_COMPLETE&&console.error("framebuffer error",f,r),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null)}},e.d=function(t,e){t.deleteFramebuffer(e.frameBuffer),t.deleteRenderbuffer(e.depthBuffer);for(var r=0,n=e.textures;r<n.length;r++){var a=n[r];t.deleteTexture(a)}},e.a=function(t,e){if(e.enable)for(var r=0,n=e.enable;r<n.length;r++)o=n[r],t.enable(o);if(e.disable)for(var a=0,i=e.disable;a<i.length;a++){var o=i[a];t.disable(o)}e.blendFunc&&t.blendFunc.apply(t,e.blendFunc),null!=e.depthFunc&&t.depthFunc(e.depthFunc),null!=e.cullFace&&t.cullFace(e.cullFace),null!=e.frontFace&&t.frontFace(e.frontFace),null!=e.lineWidth&&t.lineWidth(e.lineWidth),e.colorMask&&t.colorMask.apply(t,e.colorMask),null!=e.depthMask&&t.depthMask(e.depthMask),e.clearColor&&t.clearColor.apply(t,e.clearColor),null!=e.clearDepth&&t.clearDepth(e.clearDepth),null!=e.clearBits&&t.clear(e.clearBits)},e.f=function(t,e){if(e.enable)for(var r=0,n=e.enable;r<n.length;r++)o=n[r],t.disable(o);if(e.disable)for(var a=0,i=e.disable;a<i.length;a++){var o=i[a];t.enable(o)}};var M,E,_,v=r(11),m=(M={},M[v.c.FLOAT]={Type:Float32Array,size:4,setter:function(t,e){return function(r){t.uniform1f(e,r)}},arraySetter:function(t,e){return function(r){t.uniform1fv(e,r)}}},M[v.c.FLOAT_VEC2]={Type:Float32Array,size:8,setter:function(t,e){return function(r){t.uniform2fv(e,r)}}},M[v.c.FLOAT_VEC3]={Type:Float32Array,size:12,setter:function(t,e){return function(r){t.uniform3fv(e,r)}}},M[v.c.FLOAT_VEC4]={Type:Float32Array,size:16,setter:function(t,e){return function(r){t.uniform4fv(e,r)}}},M[v.c.INT]={Type:Int32Array,size:4,setter:a,arraySetter:i},M[v.c.INT_VEC2]={Type:Int32Array,size:8,setter:o},M[v.c.INT_VEC3]={Type:Int32Array,size:12,setter:u},M[v.c.INT_VEC4]={Type:Int32Array,size:16,setter:c},M[v.c.UNSIGNED_INT]={Type:Uint32Array,size:4,setter:function(t,e){return function(r){t.uniform1ui(e,r)}},arraySetter:function(t,e){return function(r){t.uniform1uiv(e,r)}}},M[v.c.UNSIGNED_INT_VEC2]={Type:Uint32Array,size:8,setter:function(t,e){return function(r){t.uniform2uiv(e,r)}}},M[v.c.UNSIGNED_INT_VEC3]={Type:Uint32Array,size:12,setter:function(t,e){return function(r){t.uniform3uiv(e,r)}}},M[v.c.UNSIGNED_INT_VEC4]={Type:Uint32Array,size:16,setter:function(t,e){return function(r){t.uniform4uiv(e,r)}}},M[v.c.BOOL]={Type:Uint32Array,size:4,setter:a,arraySetter:i},M[v.c.BOOL_VEC2]={Type:Uint32Array,size:8,setter:o},M[v.c.BOOL_VEC3]={Type:Uint32Array,size:12,setter:u},M[v.c.BOOL_VEC4]={Type:Uint32Array,size:16,setter:c},M[v.c.FLOAT_MAT2]={Type:Float32Array,size:16,setter:function(t,e){return function(r){t.uniformMatrix2fv(e,!1,r)}}},M[v.c.FLOAT_MAT3]={Type:Float32Array,size:36,setter:function(t,e){return function(r){t.uniformMatrix3fv(e,!1,r)}}},M[v.c.FLOAT_MAT4]={Type:Float32Array,size:64,setter:function(t,e){return function(r){t.uniformMatrix4fv(e,!1,r)}}},M[v.c.FLOAT_MAT2X3]={Type:Float32Array,size:24,setter:function(t,e){return function(r){t.uniformMatrix2x3fv(e,!1,r)}}},M[v.c.FLOAT_MAT2X4]={Type:Float32Array,size:32,setter:function(t,e){return function(r){t.uniformMatrix2x4fv(e,!1,r)}}},M[v.c.FLOAT_MAT3X2]={Type:Float32Array,size:24,setter:function(t,e){return function(r){t.uniformMatrix3x2fv(e,!1,r)}}},M[v.c.FLOAT_MAT3X4]={Type:Float32Array,size:48,setter:function(t,e){return function(r){t.uniformMatrix3x4fv(e,!1,r)}}},M[v.c.FLOAT_MAT4X2]={Type:Float32Array,size:32,setter:function(t,e){return function(r){t.uniformMatrix4x2fv(e,!1,r)}}},M[v.c.FLOAT_MAT4X3]={Type:Float32Array,size:48,setter:function(t,e){return function(r){t.uniformMatrix4x3fv(e,!1,r)}}},M[v.c.SAMPLER_2D]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_2D},M[v.c.SAMPLER_CUBE]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_CUBE_MAP},M[v.c.SAMPLER_3D]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_3D},M[v.c.SAMPLER_2D_SHADOW]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_2D},M[v.c.SAMPLER_2D_ARRAY]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_2D_ARRAY},M[v.c.SAMPLER_2D_ARRAY_SHADOW]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_2D_ARRAY},M[v.c.SAMPLER_CUBE_SHADOW]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_CUBE_MAP},M[v.c.INT_SAMPLER_2D]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_2D},M[v.c.INT_SAMPLER_3D]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_3D},M[v.c.INT_SAMPLER_CUBE]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_CUBE_MAP},M[v.c.INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_2D_ARRAY},M[v.c.UNSIGNED_INT_SAMPLER_2D]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_2D},M[v.c.UNSIGNED_INT_SAMPLER_3D]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_3D},M[v.c.UNSIGNED_INT_SAMPLER_CUBE]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_CUBE_MAP},M[v.c.UNSIGNED_INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:f,arraySetter:s,bindPoint:v.c.TEXTURE_2D_ARRAY},M),p=(E={},E[v.c.FLOAT]={size:4,setter:l,itemSize:1},E[v.c.FLOAT_VEC2]={size:8,setter:l,itemSize:2},E[v.c.FLOAT_VEC3]={size:12,setter:l,itemSize:3},E[v.c.FLOAT_VEC4]={size:16,setter:l,itemSize:4},E[v.c.INT]={size:4,setter:d,itemSize:1},E[v.c.INT_VEC2]={size:8,setter:d,itemSize:2},E[v.c.INT_VEC3]={size:12,setter:d,itemSize:3},E[v.c.INT_VEC4]={size:16,setter:d,itemSize:4},E[v.c.UNSIGNED_INT]={size:4,setter:d,itemSize:1},E[v.c.UNSIGNED_INT_VEC2]={size:8,setter:d,itemSize:2},E[v.c.UNSIGNED_INT_VEC3]={size:12,setter:d,itemSize:3},E[v.c.UNSIGNED_INT_VEC4]={size:16,setter:d,itemSize:4},E[v.c.BOOL]={size:4,setter:d,itemSize:1},E[v.c.BOOL_VEC2]={size:8,setter:d,itemSize:2},E[v.c.BOOL_VEC3]={size:12,setter:d,itemSize:3},E[v.c.BOOL_VEC4]={size:16,setter:d,itemSize:4},E[v.c.FLOAT_MAT2]={size:4,setter:h,count:2},E[v.c.FLOAT_MAT3]={size:9,setter:h,count:3},E[v.c.FLOAT_MAT4]={size:16,setter:h,count:4},E);_={},_[v.c.BYTE]=Int8Array,_[v.c.UNSIGNED_BYTE]=Uint8Array,_[v.c.SHORT]=Int16Array,_[v.c.UNSIGNED_SHORT]=Uint16Array,_[v.c.INT]=Int32Array,_[v.c.UNSIGNED_INT]=Uint32Array,_[v.c.FLOAT]=Float32Array,_[v.c.UNSIGNED_SHORT_4_4_4_4]=Uint16Array,_[v.c.UNSIGNED_SHORT_5_5_5_1]=Uint16Array,_[v.c.UNSIGNED_SHORT_5_6_5]=Uint16Array,_[v.c.HALF_FLOAT]=Uint16Array,_[v.c.UNSIGNED_INT_2_10_10_10_REV]=Uint32Array,_[v.c.UNSIGNED_INT_10F_11F_11F_REV]=Uint32Array,_[v.c.UNSIGNED_INT_5_9_9_9_REV]=Uint32Array,_[v.c.FLOAT_32_UNSIGNED_INT_24_8_REV]=Uint32Array,_[v.c.UNSIGNED_INT_24_8]=Uint32Array},function(t,e,r){"use strict";function n(t){return Math.floor(Math.random()*t)}Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"DEG_TO_RAD_FACTOR",function(){return a}),e.sign=function(t){return t>0?1:t<0?-1:0},e.lerp=function(t,e,r){return t+r*(e-t)},e.clamp=function(t,e,r){return Math.max(e,Math.min(t,r))},e.randInt=n,e.randIntInRange=function(t,e){return n(e-t)+t},e.normalRand=function(){return(Math.random()+Math.random()+Math.random())/3},e.degToRad=function(t){return t*a};var a=Math.PI/180},function(t,e,r){"use strict";r(0),r(18),r(19),r(6);var n=r(20),a=(r(21),r(22),r(7)),i=r(8);r.d(e,"a",function(){return n}),r.d(e,"b",function(){return a}),r.d(e,"c",function(){return i})},function(t,e,r){"use strict";function n(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]*e;return r}function a(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]/e;return r}function i(t){for(var e=0,r=0;r<t.length;r++){var n=t[r];e+=n*n}return Math.sqrt(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]+e[n];return r},e.addScalar=function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]+e;return r},e.sub=function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]-e[n];return r},e.subScalar=function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]-e;return r},e.mul=n,e.div=a,e.length=i,e.normalize=function(t){return a(t,i(t))},e.limit=function(t,e){var r=i(t);return e<r?n(t,e/r):t},e.isEqual=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}},function(t,e,r){"use strict";function n(t,e){return 0==(1&t)?e:-e}function a(t,e,r,n){var a,i,o,u,c,f=(t+e+r+n)*d,s=Math.floor(t+f),l=Math.floor(e+f),T=Math.floor(r+f),E=Math.floor(n+f),_=(s+l+T+E)*h,m=t-(s-_),p=e-(l-_),b=r-(T-_),A=n-(E-_),y=0,g=0,O=0,S=0;m>p?y++:g++,m>b?y++:O++,m>A?y++:S++,p>b?g++:O++,p>A?g++:S++,b>A?O++:S++;var R,F,I,N,D,U,P,L,C,w,x,B,z=m-(R=y>=3?1:0)+h,j=p-(F=g>=3?1:0)+h,G=b-(I=O>=3?1:0)+h,H=A-(N=S>=3?1:0)+h,X=m-(D=y>=2?1:0)+2*h,V=p-(U=g>=2?1:0)+2*h,Y=b-(P=O>=2?1:0)+2*h,q=A-(L=S>=2?1:0)+2*h,k=m-(C=y>=1?1:0)+3*h,W=p-(w=g>=1?1:0)+3*h,K=b-(x=O>=1?1:0)+3*h,Q=A-(B=S>=1?1:0)+3*h,Z=m-1+4*h,J=p-1+4*h,$=b-1+4*h,tt=A-1+4*h,et=255&s,rt=255&l,nt=255&T,at=255&E,it=.6-m*m-p*p-b*b-A*A;if(it<0)a=0;else{var ot=M[et+M[rt+M[nt+M[at]]]]%32*4;a=(it*=it)*it*(v[ot]*m+v[ot+1]*p+v[ot+2]*b+v[ot+3]*A)}var ut=.6-z*z-j*j-G*G-H*H;if(ut<0)i=0;else{var ct=M[et+R+M[rt+F+M[nt+I+M[at+N]]]]%32*4;i=(ut*=ut)*ut*(v[ct]*z+v[ct+1]*j+v[ct+2]*G+v[ct+3]*H)}var ft=.6-X*X-V*V-Y*Y-q*q;if(ft<0)o=0;else{var st=M[et+D+M[rt+U+M[nt+P+M[at+L]]]]%32*4;o=(ft*=ft)*ft*(v[st]*X+v[st+1]*V+v[st+2]*Y+v[st+3]*q)}var lt=.6-k*k-W*W-K*K-Q*Q;if(lt<0)u=0;else{var dt=M[et+C+M[rt+w+M[nt+x+M[at+B]]]]%32*4;u=(lt*=lt)*lt*(v[dt]*k+v[dt+1]*W+v[dt+2]*K+v[dt+3]*Q)}var ht=.6-Z*Z-J*J-$*$-tt*tt;if(ht<0)c=0;else{var Tt=M[et+1+M[rt+1+M[nt+1+M[at+1]]]]%32*4;c=(ht*=ht)*ht*(v[Tt]*Z+v[Tt+1]*J+v[Tt+2]*$+v[Tt+3]*tt)}return 27*(a+i+o+u+c)}Object.defineProperty(e,"__esModule",{value:!0}),e.noise1d=function(t){var e,r,a;return r=~~t,e=255&r,t-=r,a=t*t*t*(t*(6*t-15)+10),function(t,e,r){return e+t*(r-e)}(a,n(u[e],t),n(u[e+1],t-1))},e.noise2d=function(t,e){var r,n,a=0,i=0,o=0,u=(t+e)*c,s=Math.floor(t+u),l=Math.floor(e+u),d=(s+l)*f,h=t-(s-d),T=e-(l-d);h>T?(r=1,n=0):(r=0,n=1);var v=h-r+f,m=T-n+f,p=h-1+2*f,b=T-1+2*f,A=255&s,y=255&l,g=.5-h*h-T*T;if(g>=0){var O=3*E[A+M[y]];a=(g*=g)*g*(_[O]*h+_[O+1]*T)}var S=.5-v*v-m*m;if(S>=0){var R=3*E[A+r+M[y+n]];i=(S*=S)*S*(_[R]*v+_[R+1]*m)}var F=.5-p*p-b*b;if(F>=0){var I=3*E[A+1+M[y+1]];o=(F*=F)*F*(_[I]*p+_[I+1]*b)}return 70*(a+i+o)},e.noise3d=function(t,e,r){var n,a,i,o,u,c,f,d,h,T,v=(t+e+r)*s,m=Math.floor(t+v),p=Math.floor(e+v),b=Math.floor(r+v),A=(m+p+b)*l,y=t-(m-A),g=e-(p-A),O=r-(b-A);y>=g?g>=O?(u=1,c=0,f=0,d=1,h=1,T=0):y>=O?(u=1,c=0,f=0,d=1,h=0,T=1):(u=0,c=0,f=1,d=1,h=0,T=1):g<O?(u=0,c=0,f=1,d=0,h=1,T=1):y<O?(u=0,c=1,f=0,d=0,h=1,T=1):(u=0,c=1,f=0,d=1,h=1,T=0);var S=y-u+l,R=g-c+l,F=O-f+l,I=y-d+2*l,N=g-h+2*l,D=O-T+2*l,U=y-1+3*l,P=g-1+3*l,L=O-1+3*l,C=255&m,w=255&p,x=255&b,B=.6-y*y-g*g-O*O;if(B<0)n=0;else{var z=3*E[C+M[w+M[x]]];n=(B*=B)*B*(_[z]*y+_[z+1]*g+_[z+2]*O)}var j=.6-S*S-R*R-F*F;if(j<0)a=0;else{var G=3*E[C+u+M[w+c+M[x+f]]];a=(j*=j)*j*(_[G]*S+_[G+1]*R+_[G+2]*F)}var H=.6-I*I-N*N-D*D;if(H<0)i=0;else{var X=3*E[C+d+M[w+h+M[x+T]]];i=(H*=H)*H*(_[X]*I+_[X+1]*N+_[X+2]*D)}var V=.6-U*U-P*P-L*L;if(V<0)o=0;else{var Y=3*E[C+1+M[w+1+M[x+1]]];o=(V*=V)*V*(_[Y]*U+_[Y+1]*P+_[Y+2]*L)}return 32*(n+a+i+o)},e.noise4d=a,e.tileNoise=function(t,e,r,n){for(var i=[],o=0;o<e;o++)for(var u=0;u<t;u++){var c=u/t,f=o/e,s=Math.cos(2*c*Math.PI)*r/(2*Math.PI),l=Math.cos(2*f*Math.PI)*n/(2*Math.PI),d=Math.sin(2*c*Math.PI)*r/(2*Math.PI),h=Math.sin(2*f*Math.PI)*n/(2*Math.PI);i.push(a(s,l,d,h))}return i};var i,o,u=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(i=o=0;o<=256;i=++o)u[256+i]=u[i];var c=.5*(Math.sqrt(3)-1),f=(3-Math.sqrt(3))/6,s=1/3,l=1/6,d=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20,T=new Uint8Array(256),M=new Uint8Array(512),E=new Uint8Array(512);for(i=0;i<256;i++)T[i]=256*Math.random();for(i=0;i<512;i++)M[i]=T[255&i],E[i]=M[i]%12;var _=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),v=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0])},function(t,e,r){"use strict";e.a=function(){let t=new n.a(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t};var n=r(0)},function(t,e,r){"use strict";function n(){let t=new T.a(3);return t[0]=0,t[1]=0,t[2]=0,t}function a(t){let e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function i(t,e,r){let n=new T.a(3);return n[0]=t,n[1]=e,n[2]=r,n}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function u(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function c(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function f(t,e){let r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(r*r+n*n+a*a)}function s(t,e){let r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}function l(t){let e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function d(t,e){let r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function h(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Object.defineProperty(e,"__esModule",{value:!0}),e.create=n,e.clone=function(t){var e=new T.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=a,e.fromValues=i,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},e.subtract=o,e.multiply=u,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},e.distance=f,e.squaredDistance=s,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=h,e.cross=function(t,e,r){let n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],c=r[2];return t[0]=a*c-i*u,t[1]=i*o-n*c,t[2]=n*u-a*o,t},e.lerp=function(t,e,r,n){let a=e[0],i=e[1],o=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t},e.hermite=function(t,e,r,n,a,i){let o=i*i,u=o*(2*i-3)+1,c=o*(i-2)+i,f=o*(i-1),s=o*(3-2*i);return t[0]=e[0]*u+r[0]*c+n[0]*f+a[0]*s,t[1]=e[1]*u+r[1]*c+n[1]*f+a[1]*s,t[2]=e[2]*u+r[2]*c+n[2]*f+a[2]*s,t},e.bezier=function(t,e,r,n,a,i){let o=1-i,u=o*o,c=i*i,f=u*o,s=3*i*u,l=3*c*o,d=c*i;return t[0]=e[0]*f+r[0]*s+n[0]*l+a[0]*d,t[1]=e[1]*f+r[1]*s+n[1]*l+a[1]*d,t[2]=e[2]*f+r[2]*s+n[2]*l+a[2]*d,t},e.random=function(t,e){e=e||1;let r=2*T.c()*Math.PI,n=2*T.c()-1,a=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=n*e,t},e.transformMat4=function(t,e,r){let n=e[0],a=e[1],i=e[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,t},e.transformMat3=function(t,e,r){let n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t},e.transformQuat=function(t,e,r){let n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],c=r[2],f=r[3],s=f*n+u*i-c*a,l=f*a+c*n-o*i,d=f*i+o*a-u*n,h=-o*n-u*a-c*i;return t[0]=s*f+h*-o+l*-c-d*-u,t[1]=l*f+h*-u+d*-o-s*-c,t[2]=d*f+h*-c+s*-u-l*-o,t},e.rotateX=function(t,e,r,n){let a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateY=function(t,e,r,n){let a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateZ=function(t,e,r,n){let a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.angle=function(t,e){let r=i(t[0],t[1],t[2]),n=i(e[0],e[1],e[2]);d(r,r),d(n,n);let a=h(r,n);return a>1?0:a<-1?Math.PI:Math.acos(a)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){let r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],u=e[2];return Math.abs(r-i)<=T.b*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=T.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-u)<=T.b*Math.max(1,Math.abs(a),Math.abs(u))};var T=r(0);const M=o;e.sub=M;const E=u;e.mul=E;const _=c;e.div=_;const v=f;e.dist=v;const m=s;e.sqrDist=m;const p=a;e.len=p;const b=l;e.sqrLen=b;const A=function(){let t=n();return function(e,r,n,a,i,o){let u,c;for(r||(r=3),n||(n=0),c=a?Math.min(a*r+n,e.length):e.length,u=n;u<c;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],i(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}();e.forEach=A},function(t,e,r){"use strict";function n(){let t=new h.a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function i(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function o(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function u(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function c(t,e){let r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(r*r+n*n+a*a+i*i)}function f(t,e){let r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return r*r+n*n+a*a+i*i}function s(t){let e=t[0],r=t[1],n=t[2],a=t[3];return Math.sqrt(e*e+r*r+n*n+a*a)}function l(t){let e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}function d(t,e){let r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=n*o,t[2]=a*o,t[3]=i*o),t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=n,e.clone=function(t){let e=new h.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,r,n){let a=new h.a(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},e.subtract=a,e.multiply=i,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=u,e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},e.distance=c,e.squaredDistance=f,e.length=s,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=d,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,r,n){let a=e[0],i=e[1],o=e[2],u=e[3];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t[3]=u+n*(r[3]-u),t},e.random=function(t,e){return e=e||1,t[0]=h.c(),t[1]=h.c(),t[2]=h.c(),t[3]=h.c(),d(t,t),u(t,t,e),t},e.transformMat4=function(t,e,r){let n=e[0],a=e[1],i=e[2],o=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,t[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,t[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,t[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,t},e.transformQuat=function(t,e,r){let n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],c=r[2],f=r[3],s=f*n+u*i-c*a,l=f*a+c*n-o*i,d=f*i+o*a-u*n,h=-o*n-u*a-c*i;return t[0]=s*f+h*-o+l*-c-d*-u,t[1]=l*f+h*-u+d*-o-s*-c,t[2]=d*f+h*-c+s*-u-l*-o,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){let r=t[0],n=t[1],a=t[2],i=t[3],o=e[0],u=e[1],c=e[2],f=e[3];return Math.abs(r-o)<=h.b*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-u)<=h.b*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-c)<=h.b*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-f)<=h.b*Math.max(1,Math.abs(i),Math.abs(f))};var h=r(0);const T=a;e.sub=T;const M=i;e.mul=M;const E=o;e.div=E;const _=c;e.dist=_;const v=f;e.sqrDist=v;const m=s;e.len=m;const p=l;e.sqrLen=p;const b=function(){let t=n();return function(e,r,n,a,i,o){let u,c;for(r||(r=4),n||(n=0),c=a?Math.min(a*r+n,e.length):e.length,u=n;u<c;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],i(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}();e.forEach=b},function(t,e,r){"use strict";function n(t,e){return e?e+"."+t:t}function a(t){var e,r,a,f=t.value,s=Object(c.a)(),d=[],h={};return h.HOT={entity:h,type:u.a.HOT},h.COLD={entity:h,type:u.a.COLD},h.id=function(t,r){return s=n(t,r),e=r,h},h.val=function(t){return f=t,h},h.updateVal=function(t){return f=t(f),h},h.accept=function(t){return r=t,h},h.reset=function(){return a=!0,h},h.getId=function(){return s},t.procedure&&d.push(t),h.react=function(t,e,r){var n=i(t,e,r);n.pidSuffix=l;var a=n.dependencies;return n.dependencies=[{entity:h,type:u.a.ACCUMULATOR}],a&&a.length&&(n.dependencies=n.dependencies.concat(a)),d.push(n),h},h.getGraph=function(){var t=o.a();return t.entities[s]=Object(u.c)({id:s,value:f,accept:r,reset:a}),d.forEach(function(r){var a=r.dependencies,i=r.processId?n(r.processId,e):s+r.pidSuffix+(a&&a.length?":"+a.reduce(function(t,e){var r=e.entity.getId();return r===s?t:t+":"+r},""):""),o=[];a&&a.forEach(function(e,r){if(o[r]=e.type,e.type!==u.a.ACCUMULATOR){var n=Object(u.b)({process:i,entity:e.entity.getId(),port:r});t.arcs[n.id]=n}});var c=Object(u.b)({process:i,entity:s});t.arcs[c.id]=c,t.processes[i]=Object(u.d)({id:i,ports:o,procedure:r.procedure,async:r.async,autostart:r.autostart,delta:r.delta})}),t},h}function i(t,e,r){var n={procedure:e};return null!=t&&t.length&&(n.dependencies=t),"string"==typeof r?n.processId=r:n.pidSuffix=s,n}e.d=function(t){return a({value:t})},r.d(e,"c",function(){return d}),r.d(e,"a",function(){return h}),r.d(e,"b",function(){return T});var o=r(25),u=r(26),c=r(10),f=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},s="Stream",l="Reaction",d=function(t,e,r){return a(i(t,e,r))},h=function(t,e,r){return a(f({},i(t,e,r),{async:!0}))},T=function(t,e,r){return a(f({},i(t,e,r),{async:!0,autostart:!0}))}},function(t,e,r){"use strict";e.a=function(){var t=a();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){var e=i,r=0;return e[t[r++]]+e[t[r++]]+e[t[r++]]+e[t[r++]]+"-"+e[t[r++]]+e[t[r++]]+"-"+e[t[r++]]+e[t[r++]]+"-"+e[t[r++]]+e[t[r++]]+"-"+e[t[r++]]+e[t[r++]]+e[t[r++]]+e[t[r++]]+e[t[r++]]+e[t[r++]]}(t)};for(var n=new Array(16),a=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),n[t]=e>>>((3&t)<<3)&255);return n},i=[],o={},u=0;u<256;u++)i[u]=(u+256).toString(16).substr(1),o[i[u]]=u},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return a}),r.d(e,"d",function(){return i}),r.d(e,"e",function(){return o}),r.d(e,"c",function(){return u});var n="position",a="uv",i="source",o="coords",u={FLOAT:5126,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FLOAT_MAT2X3:35685,FLOAT_MAT2X4:35686,FLOAT_MAT3X2:35687,FLOAT_MAT3X4:35688,FLOAT_MAT4X2:35689,FLOAT_MAT4X3:35690,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT:5125,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_3D:32879,TEXTURE_2D_ARRAY:35866,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042}},function(t,e,r){"use strict";e.a=function(t){var e=t.getContext("webgl")||t.getContext("experimental-webgl");if(null==e)throw Error("Webgl context cannot be initialized");return e},e.b=function(t,e){void 0===e&&(e=1),e=Math.max(1,e);var r=t.clientWidth*e|0,n=t.clientHeight*e|0;return(t.width!==r||t.height!==n)&&(t.width=r,t.height=n,!0)}},function(t,e,r){"use strict";function n(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"and",function(){return a}),r.d(e,"not",function(){return i}),r.d(e,"defined",function(){return o}),r.d(e,"notEmpty",function(){return u}),r.d(e,"unequal",function(){return c}),r.d(e,"equal",function(){return f}),e.equalArray=n,e.equalObject=function(t,e){if(t===e)return!0;var r=Object.keys(t);if(!n(r,Object.keys(e)))return!1;for(var a=0,i=r;a<i.length;a++){var o=i[a];if(t[o]!==e[o])return!1}return!0};var a=function(t,e){return function(r,n){return t(r,n)&&e(r,n)}},i=function(t){return function(e,r){return!t(e,r)}},o=function(t){return null!=t},u=function(t){return t&&t.length},c=function(t,e){return t!==e},f=function(t,e){return t===e}},function(t,e,r){"use strict";function n(t){return[(t=Math.floor(t))>>16&255,t>>8&255,255&t]}Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"BLACK",function(){return i}),r.d(e,"WHITE",function(){return o}),e.mixColors=function(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],u=e[0],c=e[1],f=e[2],s=e[3]/255;return[Math.floor(Object(a.lerp)(r,u,s)),Math.floor(Object(a.lerp)(n,c,s)),Math.floor(Object(a.lerp)(i,f,s)),o]},e.grey=function(t,e){return null==e&&(e=255),[t,t,t,e]},e.colorRgbaToCSS=function(t){return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]/255+")"},e.intToFloat=function(t){return t.map(function(t){return t/255})},e.floatToInt=function(t){return t.map(function(t){return Math.floor(255*t)})},e.hexToRgb=n,e.hexStringToRgb=function(t){var e=t.split("#");return n(parseInt(e[e.length-1],16))};var a=r(2),i=[0,0,0,255],o=[255,255,255,255]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"math",function(){return p}),r.d(e,"vr",function(){return b}),r.d(e,"events",function(){return A}),r.d(e,"utils",function(){return y}),r.d(e,"graphics",function(){return g});var n=r(2),a=r(16),i=r(5),o=r(4),u=r(17),c=r(23),f=r(24),s=r(28),l=r(35),d=r(36),h=r(37),T=r(38),M=r(39),E=r(40),_=r(13),v=r(14),m=r(41),p={core:n,noise:i,coords:a,vectors:o,geometry:u},b={camera:c,flowCamera:f,flowPainterUtils:s},A={dom:l,mouse:h,keyboard:d,animation:T},y={string:M,seq:E,predicates:_},g={colors:v,pixels:r(42),textures:m};e.default={math:p,vr:b,events:A,utils:y,graphics:g}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cartesianToPolar2D=function(t){return[Object(n.length)(t),Math.atan2(t[1],t[0])]},e.polarToCartesian2D=function(t){var e=t[0],r=t[1];return[e*Math.cos(r),e*Math.sin(r)]};var n=r(4)},function(t,e,r){"use strict";function n(t,e){var r=-i.b.dot(t,e);return i.c.fromValues(t[0],t[1],t[2],r)}function a(t,e,r){var n=i.b.cross(i.b.create(),i.b.sub(i.b.create(),r,e),i.b.sub(i.b.create(),t,e));return i.b.normalize(n,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.planeFromNormalAndCoplanarPoint=n,e.planeFromThreeCoplanarPoints=function(t,e,r){return n(a(t,e,r),t)},e.normalFromThreeCoplanarPoints=a,e.mirrorMatrixFromPlane=function(t){var e=t,r=e[0],n=e[1],a=e[2],o=e[3];return i.a.fromValues(1-2*r*r,-2*r*n,-2*r*a,0,-2*r*n,1-2*n*n,-2*n*a,0,-2*r*a,-2*n*a,1-2*a*a,0,-2*r*o,-2*n*o,-2*a*o,1)},e.getYawQuat=function(t,e){return e*=.5,t[0]=0,t[1]=Math.sin(e),t[2]=0,t[3]=Math.cos(e),t},e.getPitchQuat=function(t,e){return e*=.5,t[0]=Math.sin(e),t[1]=0,t[2]=0,t[3]=Math.cos(e),t},e.getRollQuat=function(t,e){return e*=.5,t[0]=0,t[1]=0,t[2]=Math.sin(e),t[3]=Math.cos(e),t};var i=r(3)},function(t,e,r){"use strict";r(0)},function(t,e,r){"use strict";r(0)},function(t,e,r){"use strict";function n(t,e,r){let n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],f=e[6],s=e[7],l=e[8],d=e[9],h=e[10],T=e[11],M=e[12],E=e[13],_=e[14],v=e[15],m=r[0],p=r[1],b=r[2],A=r[3];return t[0]=m*n+p*u+b*l+A*M,t[1]=m*a+p*c+b*d+A*E,t[2]=m*i+p*f+b*h+A*_,t[3]=m*o+p*s+b*T+A*v,m=r[4],p=r[5],b=r[6],A=r[7],t[4]=m*n+p*u+b*l+A*M,t[5]=m*a+p*c+b*d+A*E,t[6]=m*i+p*f+b*h+A*_,t[7]=m*o+p*s+b*T+A*v,m=r[8],p=r[9],b=r[10],A=r[11],t[8]=m*n+p*u+b*l+A*M,t[9]=m*a+p*c+b*d+A*E,t[10]=m*i+p*f+b*h+A*_,t[11]=m*o+p*s+b*T+A*v,m=r[12],p=r[13],b=r[14],A=r[15],t[12]=m*n+p*u+b*l+A*M,t[13]=m*a+p*c+b*d+A*E,t[14]=m*i+p*f+b*h+A*_,t[15]=m*o+p*s+b*T+A*v,t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new i.a(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){let e=new i.a(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,r,n,a,o,u,c,f,s,l,d,h,T,M,E){let _=new i.a(16);return _[0]=t,_[1]=e,_[2]=r,_[3]=n,_[4]=a,_[5]=o,_[6]=u,_[7]=c,_[8]=f,_[9]=s,_[10]=l,_[11]=d,_[12]=h,_[13]=T,_[14]=M,_[15]=E,_},e.set=function(t,e,r,n,a,i,o,u,c,f,s,l,d,h,T,M,E){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=u,t[7]=c,t[8]=f,t[9]=s,t[10]=l,t[11]=d,t[12]=h,t[13]=T,t[14]=M,t[15]=E,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.transpose=function(t,e){if(t===e){let r=e[1],n=e[2],a=e[3],i=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){let r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7],s=e[8],l=e[9],d=e[10],h=e[11],T=e[12],M=e[13],E=e[14],_=e[15],v=r*u-n*o,m=r*c-a*o,p=r*f-i*o,b=n*c-a*u,A=n*f-i*u,y=a*f-i*c,g=s*M-l*T,O=s*E-d*T,S=s*_-h*T,R=l*E-d*M,F=l*_-h*M,I=d*_-h*E,N=v*I-m*F+p*R+b*S-A*O+y*g;return N?(N=1/N,t[0]=(u*I-c*F+f*R)*N,t[1]=(a*F-n*I-i*R)*N,t[2]=(M*y-E*A+_*b)*N,t[3]=(d*A-l*y-h*b)*N,t[4]=(c*S-o*I-f*O)*N,t[5]=(r*I-a*S+i*O)*N,t[6]=(E*p-T*y-_*m)*N,t[7]=(s*y-d*p+h*m)*N,t[8]=(o*F-u*S+f*g)*N,t[9]=(n*S-r*F-i*g)*N,t[10]=(T*A-M*p+_*v)*N,t[11]=(l*p-s*A-h*v)*N,t[12]=(u*O-o*R-c*g)*N,t[13]=(r*R-n*O+a*g)*N,t[14]=(M*m-T*b-E*v)*N,t[15]=(s*b-l*m+d*v)*N,t):null},e.adjoint=function(t,e){let r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7],s=e[8],l=e[9],d=e[10],h=e[11],T=e[12],M=e[13],E=e[14],_=e[15];return t[0]=u*(d*_-h*E)-l*(c*_-f*E)+M*(c*h-f*d),t[1]=-(n*(d*_-h*E)-l*(a*_-i*E)+M*(a*h-i*d)),t[2]=n*(c*_-f*E)-u*(a*_-i*E)+M*(a*f-i*c),t[3]=-(n*(c*h-f*d)-u*(a*h-i*d)+l*(a*f-i*c)),t[4]=-(o*(d*_-h*E)-s*(c*_-f*E)+T*(c*h-f*d)),t[5]=r*(d*_-h*E)-s*(a*_-i*E)+T*(a*h-i*d),t[6]=-(r*(c*_-f*E)-o*(a*_-i*E)+T*(a*f-i*c)),t[7]=r*(c*h-f*d)-o*(a*h-i*d)+s*(a*f-i*c),t[8]=o*(l*_-h*M)-s*(u*_-f*M)+T*(u*h-f*l),t[9]=-(r*(l*_-h*M)-s*(n*_-i*M)+T*(n*h-i*l)),t[10]=r*(u*_-f*M)-o*(n*_-i*M)+T*(n*f-i*u),t[11]=-(r*(u*h-f*l)-o*(n*h-i*l)+s*(n*f-i*u)),t[12]=-(o*(l*E-d*M)-s*(u*E-c*M)+T*(u*d-c*l)),t[13]=r*(l*E-d*M)-s*(n*E-a*M)+T*(n*d-a*l),t[14]=-(r*(u*E-c*M)-o*(n*E-a*M)+T*(n*c-a*u)),t[15]=r*(u*d-c*l)-o*(n*d-a*l)+s*(n*c-a*u),t},e.determinant=function(t){let e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],c=t[7],f=t[8],s=t[9],l=t[10],d=t[11],h=t[12],T=t[13],M=t[14],E=t[15];return(e*o-r*i)*(l*E-d*M)-(e*u-n*i)*(s*E-d*T)+(e*c-a*i)*(s*M-l*T)+(r*u-n*o)*(f*E-d*h)-(r*c-a*o)*(f*M-l*h)+(n*c-a*u)*(f*T-s*h)},e.multiply=n,e.translate=function(t,e,r){let n,a,i,o,u,c,f,s,l,d,h,T,M=r[0],E=r[1],_=r[2];return e===t?(t[12]=e[0]*M+e[4]*E+e[8]*_+e[12],t[13]=e[1]*M+e[5]*E+e[9]*_+e[13],t[14]=e[2]*M+e[6]*E+e[10]*_+e[14],t[15]=e[3]*M+e[7]*E+e[11]*_+e[15]):(n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],f=e[6],s=e[7],l=e[8],d=e[9],h=e[10],T=e[11],t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=c,t[6]=f,t[7]=s,t[8]=l,t[9]=d,t[10]=h,t[11]=T,t[12]=n*M+u*E+l*_+e[12],t[13]=a*M+c*E+d*_+e[13],t[14]=i*M+f*E+h*_+e[14],t[15]=o*M+s*E+T*_+e[15]),t},e.scale=function(t,e,r){let n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,r,n){let a,o,u,c,f,s,l,d,h,T,M,E,_,v,m,p,b,A,y,g,O,S,R,F,I=n[0],N=n[1],D=n[2],U=Math.sqrt(I*I+N*N+D*D);return Math.abs(U)<i.b?null:(U=1/U,I*=U,N*=U,D*=U,a=Math.sin(r),o=Math.cos(r),u=1-o,c=e[0],f=e[1],s=e[2],l=e[3],d=e[4],h=e[5],T=e[6],M=e[7],E=e[8],_=e[9],v=e[10],m=e[11],p=I*I*u+o,b=N*I*u+D*a,A=D*I*u-N*a,y=I*N*u-D*a,g=N*N*u+o,O=D*N*u+I*a,S=I*D*u+N*a,R=N*D*u-I*a,F=D*D*u+o,t[0]=c*p+d*b+E*A,t[1]=f*p+h*b+_*A,t[2]=s*p+T*b+v*A,t[3]=l*p+M*b+m*A,t[4]=c*y+d*g+E*O,t[5]=f*y+h*g+_*O,t[6]=s*y+T*g+v*O,t[7]=l*y+M*g+m*O,t[8]=c*S+d*R+E*F,t[9]=f*S+h*R+_*F,t[10]=s*S+T*R+v*F,t[11]=l*S+M*R+m*F,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},e.rotateX=function(t,e,r){let n=Math.sin(r),a=Math.cos(r),i=e[4],o=e[5],u=e[6],c=e[7],f=e[8],s=e[9],l=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+f*n,t[5]=o*a+s*n,t[6]=u*a+l*n,t[7]=c*a+d*n,t[8]=f*a-i*n,t[9]=s*a-o*n,t[10]=l*a-u*n,t[11]=d*a-c*n,t},e.rotateY=function(t,e,r){let n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],u=e[2],c=e[3],f=e[8],s=e[9],l=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-f*n,t[1]=o*a-s*n,t[2]=u*a-l*n,t[3]=c*a-d*n,t[8]=i*n+f*a,t[9]=o*n+s*a,t[10]=u*n+l*a,t[11]=c*n+d*a,t},e.rotateZ=function(t,e,r){let n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],u=e[2],c=e[3],f=e[4],s=e[5],l=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+f*n,t[1]=o*a+s*n,t[2]=u*a+l*n,t[3]=c*a+d*n,t[4]=f*a-i*n,t[5]=s*a-o*n,t[6]=l*a-u*n,t[7]=d*a-c*n,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,r){let n,a,o,u=r[0],c=r[1],f=r[2],s=Math.sqrt(u*u+c*c+f*f);return Math.abs(s)<i.b?null:(s=1/s,u*=s,c*=s,f*=s,n=Math.sin(e),a=Math.cos(e),o=1-a,t[0]=u*u*o+a,t[1]=c*u*o+f*n,t[2]=f*u*o-c*n,t[3]=0,t[4]=u*c*o-f*n,t[5]=c*c*o+a,t[6]=f*c*o+u*n,t[7]=0,t[8]=u*f*o+c*n,t[9]=c*f*o-u*n,t[10]=f*f*o+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,e){let r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){let r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){let r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,e,r){let n=e[0],a=e[1],i=e[2],o=e[3],u=n+n,c=a+a,f=i+i,s=n*u,l=n*c,d=n*f,h=a*c,T=a*f,M=i*f,E=o*u,_=o*c,v=o*f;return t[0]=1-(h+M),t[1]=l+v,t[2]=d-_,t[3]=0,t[4]=l-v,t[5]=1-(s+M),t[6]=T+E,t[7]=0,t[8]=d+_,t[9]=T-E,t[10]=1-(s+h),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){let r=e[0],n=e[1],a=e[2],i=e[4],o=e[5],u=e[6],c=e[8],f=e[9],s=e[10];return t[0]=Math.sqrt(r*r+n*n+a*a),t[1]=Math.sqrt(i*i+o*o+u*u),t[2]=Math.sqrt(c*c+f*f+s*s),t},e.getRotation=function(t,e){let r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},e.fromRotationTranslationScale=function(t,e,r,n){let a=e[0],i=e[1],o=e[2],u=e[3],c=a+a,f=i+i,s=o+o,l=a*c,d=a*f,h=a*s,T=i*f,M=i*s,E=o*s,_=u*c,v=u*f,m=u*s,p=n[0],b=n[1],A=n[2];return t[0]=(1-(T+E))*p,t[1]=(d+m)*p,t[2]=(h-v)*p,t[3]=0,t[4]=(d-m)*b,t[5]=(1-(l+E))*b,t[6]=(M+_)*b,t[7]=0,t[8]=(h+v)*A,t[9]=(M-_)*A,t[10]=(1-(l+T))*A,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,r,n,a){let i=e[0],o=e[1],u=e[2],c=e[3],f=i+i,s=o+o,l=u+u,d=i*f,h=i*s,T=i*l,M=o*s,E=o*l,_=u*l,v=c*f,m=c*s,p=c*l,b=n[0],A=n[1],y=n[2],g=a[0],O=a[1],S=a[2];return t[0]=(1-(M+_))*b,t[1]=(h+p)*b,t[2]=(T-m)*b,t[3]=0,t[4]=(h-p)*A,t[5]=(1-(d+_))*A,t[6]=(E+v)*A,t[7]=0,t[8]=(T+m)*y,t[9]=(E-v)*y,t[10]=(1-(d+M))*y,t[11]=0,t[12]=r[0]+g-(t[0]*g+t[4]*O+t[8]*S),t[13]=r[1]+O-(t[1]*g+t[5]*O+t[9]*S),t[14]=r[2]+S-(t[2]*g+t[6]*O+t[10]*S),t[15]=1,t},e.fromQuat=function(t,e){let r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,u=n+n,c=a+a,f=r*o,s=n*o,l=n*u,d=a*o,h=a*u,T=a*c,M=i*o,E=i*u,_=i*c;return t[0]=1-l-T,t[1]=s+_,t[2]=d-E,t[3]=0,t[4]=s-_,t[5]=1-f-T,t[6]=h+M,t[7]=0,t[8]=d+E,t[9]=h-M,t[10]=1-f-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,r,n,a,i,o){let u=1/(r-e),c=1/(a-n),f=1/(i-o);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*c,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(a+n)*c,t[10]=(o+i)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*f,t[15]=0,t},e.perspective=function(t,e,r,n,a){let i=1/Math.tan(e/2),o=1/(n-a);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*n*o,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,r,n){let a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),c=2/(o+u),f=2/(a+i);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-(o-u)*c*.5,t[9]=(a-i)*f*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},e.ortho=function(t,e,r,n,a,i,o){let u=1/(e-r),c=1/(n-a),f=1/(i-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*c,t[14]=(o+i)*f,t[15]=1,t},e.lookAt=function(t,e,r,n){let a,o,u,c,f,s,l,d,h,T,M=e[0],E=e[1],_=e[2],v=n[0],m=n[1],p=n[2],b=r[0],A=r[1],y=r[2];return Math.abs(M-b)<i.b&&Math.abs(E-A)<i.b&&Math.abs(_-y)<i.b?mat4.identity(t):(l=M-b,d=E-A,h=_-y,T=1/Math.sqrt(l*l+d*d+h*h),l*=T,d*=T,h*=T,a=m*h-p*d,o=p*l-v*h,u=v*d-m*l,(T=Math.sqrt(a*a+o*o+u*u))?(a*=T=1/T,o*=T,u*=T):(a=0,o=0,u=0),c=d*u-h*o,f=h*a-l*u,s=l*o-d*a,(T=Math.sqrt(c*c+f*f+s*s))?(c*=T=1/T,f*=T,s*=T):(c=0,f=0,s=0),t[0]=a,t[1]=c,t[2]=l,t[3]=0,t[4]=o,t[5]=f,t[6]=d,t[7]=0,t[8]=u,t[9]=s,t[10]=h,t[11]=0,t[12]=-(a*M+o*E+u*_),t[13]=-(c*M+f*E+s*_),t[14]=-(l*M+d*E+h*_),t[15]=1,t)},e.targetTo=function(t,e,r,n){let a=e[0],i=e[1],o=e[2],u=n[0],c=n[1],f=n[2],s=a-r[0],l=i-r[1],d=o-r[2],h=s*s+l*l+d*d;h>0&&(s*=h=1/Math.sqrt(h),l*=h,d*=h);let T=c*d-f*l,M=f*s-u*d,E=u*l-c*s;return t[0]=T,t[1]=M,t[2]=E,t[3]=0,t[4]=l*E-d*M,t[5]=d*T-s*E,t[6]=s*M-l*T,t[7]=0,t[8]=s,t[9]=l,t[10]=d,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},e.subtract=a,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){let r=t[0],n=t[1],a=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],l=t[8],d=t[9],h=t[10],T=t[11],M=t[12],E=t[13],_=t[14],v=t[15],m=e[0],p=e[1],b=e[2],A=e[3],y=e[4],g=e[5],O=e[6],S=e[7],R=e[8],F=e[9],I=e[10],N=e[11],D=e[12],U=e[13],P=e[14],L=e[15];return Math.abs(r-m)<=i.b*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(n-p)<=i.b*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(a-b)<=i.b*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-A)<=i.b*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(u-y)<=i.b*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-g)<=i.b*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-O)<=i.b*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(s-S)<=i.b*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-R)<=i.b*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(d-F)<=i.b*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(h-I)<=i.b*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(T-N)<=i.b*Math.max(1,Math.abs(T),Math.abs(N))&&Math.abs(M-D)<=i.b*Math.max(1,Math.abs(M),Math.abs(D))&&Math.abs(E-U)<=i.b*Math.max(1,Math.abs(E),Math.abs(U))&&Math.abs(_-P)<=i.b*Math.max(1,Math.abs(_),Math.abs(P))&&Math.abs(v-L)<=i.b*Math.max(1,Math.abs(v),Math.abs(L))};var i=r(0);const o=n;e.mul=o;const u=a;e.sub=u},function(t,e,r){"use strict";function n(){let t=new i.a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t,e,r,n){let a,i,o,u,c,f=e[0],s=e[1],l=e[2],d=e[3],h=r[0],T=r[1],M=r[2],E=r[3];return(i=f*h+s*T+l*M+d*E)<0&&(i=-i,h=-h,T=-T,M=-M,E=-E),1-i>1e-6?(a=Math.acos(i),o=Math.sin(a),u=Math.sin((1-n)*a)/o,c=Math.sin(n*a)/o):(u=1-n,c=n),t[0]=u*f+c*h,t[1]=u*s+c*T,t[2]=u*l+c*M,t[3]=u*d+c*E,t}var i=r(0),o=r(6),u=r(7),c=r(8);c.clone,c.fromValues,c.copy,c.set,c.add,c.scale,c.dot,c.lerp,c.length,c.squaredLength;const f=c.normalize;c.exactEquals,c.equals,function(){let t=u.create(),e=u.fromValues(1,0,0),r=u.fromValues(0,1,0)}(),function(){let t=n(),e=n()}(),function(){let t=o.a()}()},function(t,e,r){"use strict";var n=r(0);!function(){let t=function(){let t=new n.a(2);return t[0]=0,t[1]=0,t}()}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(t){void 0===t&&(t={});var e=Object.assign({fovy:.6*Math.PI,aspect:window.innerWidth/window.innerHeight,near:.1,far:1e3,needsUpdatePerspective:!1,rotateX:0,rotateY:0,moveForward:0,moveLeft:0,moveUp:0},t);return{props:e,state:{view:n.a.create(),perspective:n.a.perspective(n.a.create(),e.fovy,e.aspect,e.near,e.far),rotationX:n.a.create(),rotationY:n.a.create(),position:[0,0,0]}}},e.update=function(t){var e=t.props,r=t.state,a=r.view,i=r.perspective,o=r.rotationX,u=r.rotationY,c=r.position;e.needsUpdatePerspective&&(e.needsUpdatePerspective=!1,n.a.perspective(i,e.fovy,e.aspect,e.near,e.far));var f=!1;e.rotateX&&(n.a.rotateX(o,o,e.rotateX),e.rotateX=0,f=!0),e.rotateY&&(n.a.rotateY(u,u,e.rotateY),e.rotateY=0,f=!0),e.moveForward&&(s=n.b.fromValues(u[8],u[9],u[10]),n.b.add(c,c,n.b.scale(s,s,-e.moveForward)),e.moveForward=0,f=!0);e.moveLeft&&(s=n.b.fromValues(u[0],u[1],u[2]),n.b.add(c,c,n.b.scale(s,s,-e.moveLeft)),e.moveLeft=0,f=!0);if(e.moveUp){var s=n.b.fromValues(u[4],u[5],u[6]);n.b.add(c,c,n.b.scale(s,s,e.moveUp)),e.moveUp=0,f=!0}f&&(n.a.fromTranslation(a,c),n.a.multiply(a,a,u),n.a.multiply(a,a,o),n.a.invert(a,a))};var n=r(3)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePerspective=function(t){var e=Object(a.d)({near:.1,far:1e3,fovy:.6*Math.PI,aspect:1}).react([t.HOT],function(t,e){var r=e.width,n=e.height;return t.aspect=r/n,t});return{perspectiveSettings:e,perspective:Object(a.d)(n.a.create()).react([e.HOT],function(t,e){return n.a.perspective(t,e.fovy,e.aspect,e.near,e.far)})}},e.makeFirstPersonView=function(){var t=Object(a.d)(n.b.fromValues(0,0,0)),e=Object(a.d)(0),r=Object(a.d)(0),i=Object(a.d)({rotX:n.a.create(),rotY:n.a.create()}).react([e.HOT],function(t,e){return t.rotY=n.a.fromYRotation(t.rotY,e),t}).react([r.HOT],function(t,e){return t.rotX=n.a.fromXRotation(t.rotX,e),t});return{position:t,rotation:i,view:Object(a.d)(n.a.create()).react([i.HOT,t.HOT],function(t,e,r){return n.a.fromTranslation(t,r),n.a.multiply(t,t,e.rotY),n.a.multiply(t,t,e.rotX),n.a.invert(t,t),t}),rotY:e,rotX:r}};var n=r(3),a=r(9)},function(t,e,r){"use strict";e.a=function(){return{entities:{},processes:{},arcs:{},meta:{}}},e.b=function(t,e){return{entities:n({},t.entities,e.entities),processes:n({},t.processes,e.processes),arcs:n({},t.arcs,e.arcs),meta:n({},t.meta,e.meta)}};var n=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(t,e,r){"use strict";e.c=function(t){var e=t.id,r=void 0===e?Object(n.a)():e,a=t.value,i=t.json,o=t.accept,u=t.reset,c=t.meta;return void 0===a&&i&&(a=JSON.parse(i)),{id:r,value:a,accept:o,reset:u,meta:c}},e.d=function(t,e){var r=t.id,o=void 0===r?Object(n.a)():r,u=t.ports,c=void 0===u?[]:u,f=t.procedure,s=t.code,l=t.autostart,d=void 0!==l&&l,h=t.async,T=void 0!==h&&h,M=t.delta,E=void 0!==M&&M,_=t.meta;if(null==f&&null!=s&&(f=Object(a.a)(s,e)),null==f)throw TypeError("Process must have procedure or code set");return E&&!c.length&&c.push(i.HOT),{id:o,ports:c,procedure:f,autostart:d,async:T,delta:E,meta:_}},e.b=function(t){var e=t.id,r=t.entity,n=t.process,a=t.port,i=t.meta;if(null==r)throw TypeError("no entity specified in arc "+e);if(null==n)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==a?n+"->"+r:r+"->"+n+"::"+a),{id:e,entity:r,process:n,port:a,meta:i}},r.d(e,"a",function(){return i});var n=r(10),a=r(27),i={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBodyCanvas=function(){return{canvas:Object(n.b)(null,function(t){var e=document.createElement("canvas");return document.body.appendChild(e),t(e),function(){document.body.removeChild(e)}})}},e.setupPainter=function(t,e,r){var u=Object(n.c)([t.HOT],i.a),c=Object(n.a)([u.HOT],function(t,e){var r=Object(a.a)(e);return t(r),r.destroy}).accept(o.unequal),f=Object(n.c)([t.HOT,e.HOT],function(t){return{width:t.clientWidth,height:t.clientHeight}});return c.react([f.HOT],function(t,e){return t.resize()},"updateSize"),r&&c.react([r.HOT],function(t,e){return t.updateDrawSettings(e)}),{painter:c,gl:u,canvasSize:f}},e.makeShadeEntity=function(t,e){var r=Object(n.a)([t.HOT],function(t,e){var r=e.createShade();return t(r),r.destroy});return e&&r.react([e.HOT],function(t,e){return t.update(e)}),r},e.makeFormEntity=function(t,e){var r=Object(n.a)([t.HOT],function(t,e){var r=e.createForm();return t(r),r.destroy});return e&&r.react([e.HOT],function(t,e){return t.update(e)}),r},e.makeSketchEntity=function(t,e){var r=Object(n.a)([t.HOT],function(t,e){var r=e.createSketch();return t(r),r.destroy});return e&&r.react([e.HOT],function(t,e){return t.update(e)}),r},e.makeFlatSketchEntity=function(t,e){var r=Object(n.a)([t.HOT],function(t,e){var r=e.createFlatSketch();return t(r),r.destroy});return e&&r.react([e.HOT],function(t,e){return t.update(e)}),r},e.makeStaticLayerEntity=function(t,e){var r=Object(n.a)([t.HOT],function(t,e){var r=e.createStaticLayer();return t(r),r.destroy});return e&&r.react([e.HOT],function(t,e){return t.update(e)}),r},e.makeDrawingLayerEntity=function(t,e){var r=Object(n.a)([t.HOT],function(t,e){var r=e.createDrawingLayer();return t(r),r.destroy});return e&&r.react([e.HOT],function(t,e){return t.update(e)}),r},e.makeEffectLayerEntity=function(t,e){var r=Object(n.a)([t.HOT],function(t,e){var r=e.createEffectLayer();return t(r),r.destroy});return e&&r.react([e.HOT],function(t,e){return t.update(e)}),r};var n=r(9),a=r(29),i=r(12),o=r(13)},function(t,e,r){"use strict";function n(t,e,r,n){var o=e.shade,u=e.uniforms,c=e.form,f=e.drawSettings;if(!o||!c)throw Error("cannot draw, shader or geometry are not set");if(t.useProgram(o.program),function(t,e){for(var r in e.attribs){var n=t.attributeSetters[r];n&&n.setter(e.attribs[r])}}(o,c),n&&i(o,n,r),f&&Object(s.a)(t,f),Array.isArray(u))for(var l=0,d=u;l<d.length;l++){a(t,e,r,d[l])}else a(t,e,r,u);f&&Object(s.f)(t,f)}function a(t,e,r,n){n&&i(e.shade,n,r),e.form.elements&&null!=e.form.elements.glType?(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.form.elements.buffer),t.drawElements(e.form.drawType,e.form.itemCount,e.form.elements.glType,0)):t.drawArrays(e.form.drawType,0,e.form.itemCount)}function i(t,e,r){for(var n in e){var a=t.uniformSetters[n];if(a){var i=e[n];null===i||"string"==typeof i?a.setter(r):a.setter(i)}}}e.a=function(t){var e=[{},{}],r=Object(d.d)(t),a=o.a(t).update(d.a.renderQuad),i=function(){return c.a().update({form:a,shade:u.a(t).update(d.b.basicEffect)})},T=i(),M=function(r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var a=t.canvas;return(Object(l.b)(a,r)||n)&&e.forEach(function(e){e.width=a.width,e.height=a.height,e.textureConfig={count:1,type:t.UNSIGNED_BYTE},Object(s.h)(t,e,d.c)}),E};M(1,!0);var E={gl:t,updateDrawSettings:function(e){return Object(s.a)(t,h({},r,e)),E},createForm:function(){return o.a(t)},createShade:function(){return u.a(t)},createSketch:function(){return c.a()},createFlatSketch:i,createStaticLayer:function(){return f.b(t)},createDrawingLayer:function(){return f.a(t)},createEffectLayer:function(){return f.a(t).update({sketches:[i()]})},draw:function(e,r){return n(t,e,null,r),E},compose:function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return function(t,e,r,a){for(var i=e.length-1,o=function(o){var u=e[o],c=function(e,i){var o=r[0],c=r[1],f=!i&&null==u.target;if(i?(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)):u.target?(t.bindFramebuffer(t.FRAMEBUFFER,u.target.frameBuffer),t.viewport(0,0,u.target.width,u.target.height)):(t.bindFramebuffer(t.FRAMEBUFFER,c.frameBuffer),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)),u.data.drawSettings&&Object(s.a)(t,u.data.drawSettings),u.sketches)for(var l=0,d=u.sketches;l<d.length;l++){var h=d[l];n(t,h,o.textures[0],e)}else n(t,a,null,{source:u.texture()});u.data.drawSettings&&Object(s.f)(t,u.data.drawSettings),f&&(r[0]=c,r[1]=o)};if(Array.isArray(u.uniforms))for(var f=i+u.uniforms.length-1,l=0;l<u.uniforms.length;l++)d=o+l===f,c(u.uniforms[l],d);else{var d=o===i;c(u.uniforms,d)}},u=0;u<e.length;u++)o(u)}(t,r,e,T),E},resize:M,destroy:function(){T.destroy();for(var r=0,n=e;r<n.length;r++){var a=n[r];Object(s.d)(t,a)}}};return E};var o=r(30),u=r(31),c=r(32),f=r(33),s=r(1),l=r(12),d=r(34),h=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(t,e,r){"use strict";e.a=function(t){var e={};return e.update=function(r){r.drawType&&(e.drawType=t[r.drawType]),r.itemCount&&(e.itemCount=r.itemCount);var a=e.attribs||{};for(var i in r.attribs){var o=r.attribs[i];null==a[i]&&(a[i]={buffer:t.createBuffer()}),t.bindBuffer(t.ARRAY_BUFFER,a[i].buffer),t.bufferData(t.ARRAY_BUFFER,o.buffer,t[(o.storeType||"STATIC")+"_DRAW"])}if(e.attribs=a,r.elements){var u=r.elements.buffer;null==e.elements&&(e.elements={buffer:t.createBuffer(),glType:null}),e.elements.glType=Object(n.e)(u),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.elements.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,u,t[(r.elements.storeType||"STATIC")+"_DRAW"])}return e},e.destroy=function(){for(var r in e.attribs)t.deleteBuffer(e.attribs[r].buffer);return e.elements&&t.deleteBuffer(e.elements.buffer),e},e};var n=r(1)},function(t,e,r){"use strict";function n(t){return t.trim().split("\n").map(function(t,e){return e+1+": "+t}).join("\n")}e.a=function(t){var e={program:t.createProgram(),frag:t.createShader(t.FRAGMENT_SHADER),vert:t.createShader(t.VERTEX_SHADER)};return t.attachShader(e.program,e.vert),t.attachShader(e.program,e.frag),e.update=function(r){var i=r.frag&&r.frag.trim()||e.fragSource,o=r.vert&&r.vert.trim()||e.vertSource;if(!i||!o)return e;if(i.indexOf("GL_EXT_draw_buffers")>=0&&t.getExtension("WEBGL_draw_buffers"),t.shaderSource(e.vert,o),t.shaderSource(e.frag,i),t.compileShader(e.vert),t.compileShader(e.frag),t.getShaderParameter(e.vert,t.COMPILE_STATUS)||console.error("Error Compiling Vertex Shader!\n",t.getShaderInfoLog(e.vert),n(o)),t.getShaderParameter(e.frag,t.COMPILE_STATUS)||console.error("Error Compiling Fragment Shader!\n",t.getShaderInfoLog(e.frag),n(i)),t.linkProgram(e.program),!t.getProgramParameter(e.program,t.LINK_STATUS)){var u=t.getProgramInfoLog(e.program);console.error("Error in program linking:",u)}return e.uniformSetters=Object(a.c)(t,e.program),e.attributeSetters=Object(a.b)(t,e.program),e.fragSource=i,e.vertSource=o,e},e.destroy=function(){t.deleteProgram(e.program),t.deleteShader(e.frag),t.deleteShader(e.vert)},e};var a=r(1)},function(t,e,r){"use strict";e.a=function(){var t={};return t.update=function(e){return e.drawSettings&&(t.drawSettings=e.drawSettings),e.form&&(t.form=e.form),e.shade&&(t.shade=e.shade),e.uniforms&&(t.uniforms=e.uniforms),t},t.destroy=function(){t.form.destroy(),t.shade.destroy()},t}},function(t,e,r){"use strict";e.b=function(t){var e={},r=t.createTexture();return e.textures=[r],e.data={},e.texture=function(){return r},e.update=function(a){return t.bindTexture(t.TEXTURE_2D,r),Object(n.g)(t,a,e.data),a.asset&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,a.asset),a.minFilter&&a.minFilter.indexOf("MIPMAP")>0&&t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),Object.assign(e.data,a),e},e.destroy=function(){t.deleteTexture(r)},e},e.a=function(t){var e={};return e.textures=[],e.data={},e.texture=function(t){return void 0===t&&(t=0),e.textures[t]},e.update=function(r){if(r.buffered&&!e.target?(e.target={width:r.width||t.canvas.width,height:r.height||t.canvas.height,frameBuffer:null,textures:[],depthBuffer:null,textureConfig:{type:r.textureConfig&&r.textureConfig.type||t.UNSIGNED_BYTE,count:r.textureConfig&&r.textureConfig.count||1}},Object(n.h)(t,e.target,r,e.data),e.textures=e.target.textures):e.target&&r.width&&r.height&&(e.target.width=r.width,e.target.height=r.height,Object(n.h)(t,e.target,r,e.data)),r.sketches&&(e.sketches=r.sketches),r.frag){var a=e.sketches&&e.sketches[0];a&&a.shade.update({frag:r.frag})}return r.uniforms&&(e.uniforms=r.uniforms),Object.assign(e.data,r),e},e.destroy=function(){if(e.sketches)for(var r=0,a=e.sketches;r<a.length;r++)a[r].destroy();if(e.target)Object(n.d)(t,e.target);else for(var i=0,o=e.textures;i<o.length;i++){var u=o[i];t.deleteTexture(u)}},e};var n=r(1)},function(t,e,r){"use strict";r.d(e,"c",function(){return i}),e.d=function(t){return{clearColor:[0,0,0,1],enable:[t.DEPTH_TEST],blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}},r.d(e,"a",function(){return o}),r.d(e,"b",function(){return u});var n,a=r(11),i={wrap:"CLAMP_TO_EDGE",minFilter:"LINEAR",magFilter:"NEAREST"},o={renderQuad:{attribs:(n={},n[a.a]={buffer:new Float32Array([-1,1,-1,-1,1,1,1,-1]),storeType:"STATIC"},n[a.b]={buffer:new Float32Array([0,1,0,0,1,1,1,0]),storeType:"STATIC"},n),drawType:"TRIANGLE_STRIP",itemCount:4}},u={basicEffect:{vert:"\n\t\t\tattribute vec2 "+a.a+";\n\t\t\tattribute vec2 "+a.b+";\n\t\t\tvarying vec2 "+a.e+";\n\t\t\tvoid main() {\n\t\t\t\t"+a.e+" = "+a.b+";\n\t\t\t\tgl_Position = vec4("+a.a+", 0.0, 1.0);\n\t\t\t}",frag:"precision mediump float;\n\t\t\tuniform sampler2D "+a.d+";\n\t\t\tvarying vec2 "+a.e+";\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D("+a.d+", "+a.e+");\n\t\t\t}"}}},function(t,e,r){"use strict";function n(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.windowSize=n,e.windowSizeObserver=function(){var t={size:{width:0,height:0}},e=n(function(e){return t.size=e});return{state:t,destroy:e}}},function(t,e,r){"use strict";function n(t,e){function r(e){o[e.keyCode]=Date.now(),t(o)}function n(e){delete o[e.keyCode],t(o)}void 0===e&&(e={});var a=e.element,i=void 0===a?window:a,o={};return i.addEventListener("keyup",n,!1),i.addEventListener("keydown",r,!1),t(o),function(){i.removeEventListener("keyup",n),i.removeEventListener("keydown",r)}}Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"Keys",function(){return a}),e.keyboard=n,e.keyboardObserver=function(t){var e={Keys:a,state:{pressed:{}},destroy:function(){}};return e.destroy=n(function(t){e.state.pressed=t},t),e};var a;!function(t){t[t.CANCEL=3]="CANCEL",t[t.HELP=6]="HELP",t[t.BACK_SPACE=8]="BACK_SPACE",t[t.TAB=9]="TAB",t[t.CLEAR=12]="CLEAR",t[t.RETURN=13]="RETURN",t[t.ENTER=14]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CONTROL=17]="CONTROL",t[t.ALT=18]="ALT",t[t.PAUSE=19]="PAUSE",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.ESCAPE=27]="ESCAPE",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.PRINTSCREEN=44]="PRINTSCREEN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_1=49]="DIGIT_1",t[t.DIGIT_2=50]="DIGIT_2",t[t.DIGIT_3=51]="DIGIT_3",t[t.DIGIT_4=52]="DIGIT_4",t[t.DIGIT_5=53]="DIGIT_5",t[t.DIGIT_6=54]="DIGIT_6",t[t.DIGIT_7=55]="DIGIT_7",t[t.DIGIT_8=56]="DIGIT_8",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.EQUALS=61]="EQUALS",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.CONTEXT_MENU=93]="CONTEXT_MENU",t[t.NUMPAD0=96]="NUMPAD0",t[t.NUMPAD1=97]="NUMPAD1",t[t.NUMPAD2=98]="NUMPAD2",t[t.NUMPAD3=99]="NUMPAD3",t[t.NUMPAD4=100]="NUMPAD4",t[t.NUMPAD5=101]="NUMPAD5",t[t.NUMPAD6=102]="NUMPAD6",t[t.NUMPAD7=103]="NUMPAD7",t[t.NUMPAD8=104]="NUMPAD8",t[t.NUMPAD9=105]="NUMPAD9",t[t.MULTIPLY=106]="MULTIPLY",t[t.ADD=107]="ADD",t[t.SEPARATOR=108]="SEPARATOR",t[t.SUBTRACT=109]="SUBTRACT",t[t.DECIMAL=110]="DECIMAL",t[t.DIVIDE=111]="DIVIDE",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.F13=124]="F13",t[t.F14=125]="F14",t[t.F15=126]="F15",t[t.F16=127]="F16",t[t.F17=128]="F17",t[t.F18=129]="F18",t[t.F19=130]="F19",t[t.F20=131]="F20",t[t.F21=132]="F21",t[t.F22=133]="F22",t[t.F23=134]="F23",t[t.F24=135]="F24",t[t.NUM_LOCK=144]="NUM_LOCK",t[t.SCROLL_LOCK=145]="SCROLL_LOCK",t[t.COMMA=188]="COMMA",t[t.PERIOD=190]="PERIOD",t[t.SLASH=191]="SLASH",t[t.BACK_QUOTE=192]="BACK_QUOTE",t[t.OPEN_BRACKET=219]="OPEN_BRACKET",t[t.BACK_SLASH=220]="BACK_SLASH",t[t.CLOSE_BRACKET=221]="CLOSE_BRACKET",t[t.QUOTE=222]="QUOTE",t[t.META=224]="META"}(a||(a={}))},function(t,e,r){"use strict";function n(t,e){function r(e){s.pressed[e.button]=e,e.button===a.LEFT&&(l=e.clientX,d=e.clientY,h=!0),t(s)}function n(e){delete s.pressed[e.button],delete s.drag.event,s.drag.x=0,s.drag.y=0,h=!1,t(s)}function i(e){h&&(s.drag.event=e,s.drag.x=l-e.clientX,s.drag.y=d-e.clientY,t(s))}function o(t){t.preventDefault()}void 0===e&&(e={});var u=e.element,c=void 0===u?document:u,f=e.enableRightButton,s={pressed:{},drag:{x:0,y:0}},l=0,d=0,h=!1;return c.addEventListener("mousedown",r),document.addEventListener("mouseup",n),document.addEventListener("mousemove",i),f&&c.addEventListener("contextmenu",o),t(s),function(){c.removeEventListener("mousedown",r),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n),f&&c.removeEventListener("contextmenu",o)}}Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"Buttons",function(){return a}),e.mouse=n,e.mouseObserver=function(t){void 0===t&&(t={});var e={Buttons:a,state:{},destroy:function(){}};return e.destroy=n(function(t){e.state=t},t),e};var a={LEFT:0,MIDDLE:1,RIGHT:2}},function(t,e,r){"use strict";function n(t){function e(a){n&&(t(a-(r||a)),r=a,requestAnimationFrame(e))}var r,n=!0;return requestAnimationFrame(e),function(){n=!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.animateWithTPF=n,e.animate=function(t){function e(n){r&&(t(n),requestAnimationFrame(e))}var r=!0;return requestAnimationFrame(e),function(){r=!1}},e.createAnimator=function(t){function e(){for(var t in r)r[t].apply(null,arguments)}void 0===t&&(t=n);var r=[];return{start:function(){this.stop=t(e)},stop:function(){},step:e,addUpdate:function(t){r.push(t)},removeUpdate:function(t){r=r.filter(function(e){return e!==t})}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"generateUUID",function(){return n});var n=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=new Array(36),r=0,n=0;return function(){for(var a=0;a<36;)8===a||13===a||18===a||23===a?e[a]="-":14===a?e[a]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),n=15&r,r>>=4,e[a]=t[19===a?3&n|8:n]),a+=1;return e.join("")}}()},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<t;r++)e(r)}function a(t){for(var e=[],r=0,n=t;r<n.length;r++)for(var a=0,i=n[r];a<i.length;a++){var o=i[a];e.push(o)}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.pickRandom=function(t){return t[Object(i.randInt)(t.length)]},e.doTimes=n,e.yieldTimes=function(t,e){var r=[];return n(t,function(t){return r.push(e(t))}),r},e.zip=function(t,e,r){for(var n=Math.min(t.length,e.length),a=[],i=0;i<n;i++)a.push(r(t[i],e[i]));return a},e.flatten=a,e.mapcat=function(t,e){return a(t.map(e))};var i=r(2)},function(t,e,r){"use strict";function n(t){return Math.floor(127*(t+1))}Object.defineProperty(e,"__esModule",{value:!0}),e.drawTileNoiseTexture=function(t,e,r){for(var i=t.canvas.width,o=t.canvas.height,u=Object(a.tileNoise)(i,o,e,r),c=Object(a.tileNoise)(i,o,2.1*e,2.1*r),f=Object(a.tileNoise)(i,o,4.2*e,4.2*r),s=Object(a.tileNoise)(i,o,8.3*e,8.3*r),l=t.getImageData(0,0,i,o),d=0;d<u.length-1;d++){var h=4*d;l.data[h]=n(u[d]),l.data[h+1]=n(c[d]),l.data[h+2]=n(f[d]),l.data[h+3]=n(s[d])}t.putImageData(l,0,0)};var a=r(5)},function(t,e,r){"use strict";function n(t,e){var r=t[0],n=t[1],a=e.width,i=e.height;return r<0&&(r=0),n<0&&(n=0),r>=a&&(r=a),n>=i&&(n=i),[r,n]}Object.defineProperty(e,"__esModule",{value:!0}),e.repeatedPosition=function(t,e){var r=t[0],n=t[1],a=e.width,i=e.height;return r>=a&&(r-=a),n>=i&&(n-=i),r<0&&(r+=a),n<0&&(n+=i),[r,n]},e.closedPosition=n,e.createPixelContext=function(t){function e(e,r){var n=t(r,e),a=n[0];return 4*(n[1]*e.height+a)}function r(t,r){var n=e(t,r);return[t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]]}function i(t,r,n){var a=e(t,r);t.data[a]=n[0],t.data[a+1]=n[1],t.data[a+2]=n[2],t.data[a+3]=n[3]}return t=t||n,{getPixelIndex:e,getColorAt:r,setColorAt:i,increaseAllBy:function(t,e){for(var r=e[0],n=e[1],a=e[2],i=e[3],o=t.data,u=0;u<o.length;u+=4)o[u]+r<256&&(o[u]+=r),o[u+1]+n<256&&(o[u+1]+=n),o[u+2]+a<256&&(o[u+2]+=a),o[u+3]+i<256&&(o[u+3]+=i)},decreaseAllBy:function(t,e){for(var r=e[0],n=e[1],a=e[2],i=e[3],o=t.data,u=0;u<=o.length;u+=4)r<=o[u]&&(o[u]-=r),n<=o[u+1]&&(o[u+1]-=n),a<=o[u+2]&&(o[u+2]-=a),i<=o[u+3]&&(o[u+3]-=i)},mixinColor:function(t,e){for(var n=0;n<t.width;n++)for(var o=0;n<t.height;o++)i(t,[n,o],Object(a.mixColors)(r(t,[n,o]),e))},replaceWithImageDataAt:function(t,e,n){for(var a=n[0],o=n[1],u=e.width-1,c=e.height-1,f=0;f<c;f++)for(var s=0;s<u;s++)i(t,[a+s,o+f],r(e,[s,f]))},drawImageAt:function(t,e,n){for(var o=n[0],u=n[1],c=e.width-1,f=e.height-1,s=0;s<f;s++)for(var l=0;l<c;l++)i(t,[o+l,u+s],Object(a.mixColors)(r(t,[o+l,u+s]),r(e,[l,s])))}}},e.createImgDataFromImage=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var r=e.getContext("2d");if(r)return r.drawImage(t,0,0,t.width,t.height),r.getImageData(0,0,t.width,t.height)};var a=r(14)}])});